"use strict";angular.module("cbApp",["ngCookies","ngResource","ngSanitize","btford.socket-io","ui.router","ui.bootstrap","ngAnimate","ngMessages","ngTouch","slick","ui.bootstrap","ngHamburger","LocalForageModule","leaflet-directive","ui.select","ngCordova"]).config(["$stateProvider","$urlRouterProvider","$locationProvider","$httpProvider",function(a,b,c,d){console.log("In config block"),b.otherwise("/"),d.interceptors.push("authInterceptor")}]).factory("authInterceptor",["$rootScope","$q","$location","localStorage",function(a,b,c,d){return{request:function(a){var c=b.defer();return a.headers=a.headers||{},d.retrieve("token").then(function(b){console.log("header",b),null!=b&&(a.headers.Authorization="Bearer "+b),c.resolve(a)}),c.promise},responseError:function(a){return 401===a.status?(c.path("/login"),d.remove("token"),b.reject(a)):b.reject(a)}}}]).run(["$rootScope","$location","Auth","localStorage","$state",function(a,b,c,d,e){d.isInitialized().then(function(a){a||(d.initialize(),b.path("/intro"))}),a.$on("$stateChangeStart",function(a,e,f,g){c.isLoggedInAsync(function(a){console.log("loggedIn",a),console.log("next",e),console.log("prev",g),e.authenticate&&!a&&b.path("/login"),"intro"==e.name&&d.isInitialized().then(function(a){a?b.path("/userHome/home"):d.initialize()})})})}]);var onDeviceReady=function(){angular.bootstrap(document,["cbApp"]),$.getScript("http://maps.google.com/maps/api/js?sensor=false")};if(document.addEventListener("deviceready",onDeviceReady),angular.module("cbApp").config(["$stateProvider",function(a){a.state("login",{url:"/login",templateUrl:"app/account/login/login.html",controller:"LoginCtrl"}).state("signup",{url:"/signup","abstract":!0,templateUrl:"app/account/signup/signup.html",controller:"SignupCtrl"}).state("settings",{url:"/settings",templateUrl:"app/account/settings/settings.html",controller:"SettingsCtrl",authenticate:!0})}]),angular.module("cbApp").controller("LoginCtrl",["$scope","Auth","$location","$window","$state",function(a,b,c,d,e){a.user={},a.loginForm={},a.showErrorMessage=!1,a.login=function(){return a.showErrorMessage=!0,a.loginForm.$valid?void(a.loginForm.$valid&&(console.log(a.loginForm),b.login({empId:a.user.empId,password:a.user.password}).then(function(a){console.log(a),e.go("userHome.home")})["catch"](function(b){a.errors.other=b.message}))):(console.log(a.loginForm),$("input.ng-invalid").eq(0).focus(),console.log("----------",$("input.ng-invalid")),!1)},a.loginOauth=function(a){d.location.href="/auth/"+a}}]),angular.module("cbApp").controller("SettingsCtrl",["$scope","User","Auth",function(a,b,c){a.errors={},a.changePassword=function(b){a.submitted=!0,b.$valid&&c.changePassword(a.user.oldPassword,a.user.newPassword).then(function(){a.message="Password successfully changed."})["catch"](function(){b.password.$setValidity("mongoose",!1),a.errors.other="Incorrect password",a.message=""})}}]),angular.module("cbApp").controller("SignupCtrl",["$scope","Auth","$location","$window","parse","$state","$http","$modal","cordovaUtil","httpRequest","localStorage",function(a,b,c,d,e,f,g,h,i,j,k){a.user={vehicle:{}},a.user.gender="Female",a.timeSlotJSON=["8:00 AM - 5:00 PM","9:00 AM - 6:00 PM","10:00 AM - 7:00 PM","11:00 AM - 8:00 PM","12:00 AM - 9:00 PM"],a.officeAddressJSON=["BIRLA AT&T, PUNE","BT TechM Collocation","Bhosari MIDC Non STP","Bhosari MIDC STP","CMC-Pune","CRL - Hinjewadi","Cerebrum IT Park","KIRLOSKAR","Millenium Bldg, Pune","NAVLAKHA COMP.-PUNE","Nashik Centre NSTP","Nashik PSK Sites","Nyati Tiara","Pune - Commerzone","Pune PSK Sites","Pune Sahyadri Park","Pune(QuadraII) STP","Pune(QuadraII)NonSTP","Pune-Sun Suzlon-NSTP","QBPL -Pune SEZ","SP - A1 - Rajgad","SP - S1 - Poorna","SP - S2 - Torna","SP - S3 - Tikona","SahyadriPark SEZ - I","Sp-S1-Poorna-BPO","Sp-S2-Torna-BPO","TRDDC HADAPSAR, PUNE","VSNL - Pune"],a.vehicleCapacityJSON=["2","3","4","5","6"],a.showErrorMessage=!0;var l=1;a.signupForm={},a.step=1,f.go("signup.stepOne"),a.goToStep=function(b){if(b!=l)if(b>l){if(!a.signupForm.$valid)return void(a.showErrorMessage=!1);a.showErrorMessage=!0,a.step=b,l=b,1==b&&f.go("signup.stepOne"),2==b&&f.go("signup.stepTwo"),3==b&&f.go("signup.stepThree")}else a.step=b,l=b,a.showErrorMessage=!0,1==b&&f.go("signup.stepOne"),2==b&&f.go("signup.stepTwo")},a.register=function(){if(a.showErrorMessage=!1,!a.signupForm.$valid)return console.log(a.signupForm),$("input.ng-invalid").eq(0).focus(),console.log("----------",$("input.ng-invalid")),!1;var b=config.apis.signup;j.post(b,a.user).then(function(a){200==a.status&&(console.log("User Stored in the MongoDB Successfully. Here is the Response : ",a),k.store("token",a.data.token).then(function(){f.go("userHome.home")}))},function(b){console.log("Error Storing the User to the MongoDB. Here is the Error: "+b),a.error=b})},a.getLocation=function(){var b=h.open({animation:!0,templateUrl:"components/modal/modal.html",controller:"ModalCtrl",size:"sm"});b.result.then(function(b){"yes"==b&&i.getUserHomeCoordinates().then(function(b){a.user.homeAddress=b.homeAddress,a.user.city=b.city,a.user.zipcode=b.zipcode,a.user.placeID=b.placeID,a.user.homelocationCoordinates=[],a.user.homelocationCoordinates.push(b.homeLocationCoordinates.lat),a.user.homelocationCoordinates.push(b.homeLocationCoordinates.lng),a.user.state=b.state})})},a.loginOauth=function(a){d.location.href="/auth/"+a}}]),angular.module("cbApp").controller("StepOneCtrl",["$scope",function(a){a.message="Hello"}]),angular.module("cbApp").config(["$stateProvider",function(a){a.state("signup.stepOne",{url:"/stepOne",templateUrl:"app/account/signup/stepOne/stepOne.html"})}]),angular.module("cbApp").controller("StepThreeCtrl",["$scope",function(a){a.message="Hello"}]),angular.module("cbApp").config(["$stateProvider",function(a){a.state("signup.stepThree",{url:"/stepThree",templateUrl:"app/account/signup/stepThree/stepThree.html"})}]),angular.module("cbApp").controller("StepTwoCtrl",["$scope",function(a){a.message="Hello"}]),angular.module("cbApp").config(["$stateProvider",function(a){a.state("signup.stepTwo",{url:"/stepTwo",templateUrl:"app/account/signup/stepTwo/stepTwo.html"})}]),angular.module("cbApp").controller("AdminCtrl",["$scope","$http","Auth","User",function(a,b,c,d){a.users=d.query(),a["delete"]=function(b){d.remove({id:b._id}),angular.forEach(a.users,function(c,d){c===b&&a.users.splice(d,1)})}}]),angular.module("cbApp").config(["$stateProvider",function(a){a.state("admin",{url:"/admin",templateUrl:"app/admin/admin.html",controller:"AdminCtrl"})}]),angular.module("cbApp").controller("AvailableRidesCtrl",["$scope",function(a){a.message="Hello"}]),angular.module("cbApp").config(["$stateProvider",function(a){a.state("userHome.availableRides",{url:"/availableRides",templateUrl:"app/availableRides/availableRides.html",controller:"AvailableRidesCtrl"})}]),angular.isUndefined(config)){var config={};config.apis={}}config.apiBaseURL="http://52.77.218.140:9000/",config.apis.login="auth/local",config.apis.syncLocations="api/locations",config.apis.signup="api/users/",config.apis.getAllUsers="api/users/",config.cordova=!0,angular.module("cbApp").service("cordovaInit",["$document","$q",function(a,b){var c=b.defer(),d=!1;this.ready=c.promise,document.addEventListener("deviceready",function(){d=!0,c.resolve(window.cordova)}),setTimeout(function(){d||window.cordova&&c.resolve(window.cordova)},3e3)}]),angular.module("cbApp").service("cordovaUtil",["parse","User","httpRequest","localStorage","$q","$rootScope",function(a,b,c,d,e,f){var g,h={};return b.get().$promise.then(function(a){h=a,console.log("currentUser",h)}),{getCoordinates:function(){var a=this;g=navigator.geolocation.watchPosition(function(b){a.saveCoordinates(b),f.$broadcast("locationCaptured")},function(a){console.log("Error Code: "+a.code+" Error Message: "+a.message),alert("Error Code: "+a.code+" Error Message: "+a.message)},{enableHighAccuracy:!0,timeout:5e3,frequency:5e3})},saveCoordinates:function(a){var b=this;console.log("My cordinates ",a),d.retrieve("SavedLocationCoordinates").then(function(c){var e=c,f=b.getDeviceUUID();if(null!=e){e=JSON.parse(e);var g={};g.location={},g.location.latitude=a.coords.latitude,g.location.longitude=a.coords.longitude,g.timestamp=a.timestamp,g.uuid=f,g.userId=h.userId,console.log("current location object :",g),e.TrackedLocations.push(g),d.store("SavedLocationCoordinates",JSON.stringify(e)),console.log("This is the trackedLocationCoordinatesObject : "+JSON.stringify(g))}else{var i={},j=[],g={};g.location={},g.location.latitude=a.coords.latitude,g.location.longitude=a.coords.longitude,g.timestamp=a.timestamp,g.userId=h.userId,g.uuid=f,alert("current location object : "+JSON.stringify(g)),j.push(g),i.TrackedLocations=j,d.store("SavedLocationCoordinates",JSON.stringify(i)).then(function(a){var b=window.localStorage.getItem("SavedLocationCoordinates");alert("This is the Current Location Object when localStorageObject is null: "+a),b=JSON.parse(b),console.log("This is the trackedLocationCoordinatesObject : "+JSON.stringify(g)),console.log("This is the trackedLocationsArray : "+JSON.stringify(j))})}})},stopSampling:function(){navigator.geolocation.clearWatch(g)},saveDeviceDetails:function(){d.setItem("DeviceInformation",JSON.stringify(device))},getDeviceUUID:function(){return"ThisIsASampleDeviceUUID"},getAllCoordinates:function(){a.getObjects().then(function(a){var b=_.map(a,function(a){return a.toJSON()});return b},function(a){console.log(a)})},syncCoordinates:function(){d.retrieve("SavedLocationCoordinates").then(function(a){var b=a;null!=b&&(b=JSON.parse(b),console.log("Stored Locations Object : "+b),console.log("Tracked Locations Object  : ",b.TrackedLocations),c.post(config.apis.syncLocations,b.TrackedLocations).then(function(a){201==a.status&&d.remove("SavedLocationCoordinates")}))})},getUserHomeCoordinates:function(){var a=e.defer();if(navigator.geolocation)return navigator.geolocation.getCurrentPosition(function(b){var c=new google.maps.Geocoder,d={lat:b.coords.latitude,lng:b.coords.longitude};c.geocode({location:d},function(b,c){if(c==google.maps.GeocoderStatus.OK){for(var e=b[0],f=e.formatted_address,g="",h="",i="",j=e.place_id,k=0,l=e.address_components.length;l>k;k++){var m=e.address_components[k];console.log(m),m.types.indexOf("administrative_area_level_2")>=0&&(g=m.long_name),m.types.indexOf("administrative_area_level_1")>=0&&(h=m.long_name),m.types.indexOf("postal_code")>=0&&(i=m.long_name)}if(""!=f&&""!=g&&""!=i&&""!=j&&""!=h){var n={};n.homeAddress=f,n.city=g,n.zipcode=i,n.placeID=j,n.homeLocationCoordinates=d,n.state=h,a.resolve(n)}}else console.log(c)})}),a.promise}}}]),angular.module("cbApp").controller("HomeCtrl",["$scope",function(a){a.message="Hello"}]),angular.module("cbApp").config(["$stateProvider",function(a){a.state("userHome.home",{url:"/home",templateUrl:"app/home/home.html",controller:"HomeCtrl"})}]),angular.module("cbApp").factory("httpRequest",["$http",function(a){return{get:function(b,c){var d,e={};if(c){var f=queryString.stringify(c);e.url=config.apiBaseURL+b+"?"+f}else e.url=config.apiBaseURL+b;return e.method="GET",d=a(e).then(function(a){return a})},post:function(b,c){var d,e={};return e.data=c,e.url=config.apiBaseURL+b,e.method="POST",d=a(e).then(function(a){return a})}}}]),angular.module("cbApp").controller("IntroCtrl",["$scope",function(a){a.message="Hello"}]),angular.module("cbApp").config(["$stateProvider",function(a){a.state("intro",{url:"/intro",templateUrl:"app/intro/intro.html",controller:"IntroCtrl"})}]),function(a){function b(a){return new RegExp("(^|\\s+)"+a+"(\\s+|$)")}function c(a,b){var c=d(a,b)?f:e;c(a,b)}var d,e,f;"classList"in document.documentElement?(d=function(a,b){return a.classList.contains(b)},e=function(a,b){a.classList.add(b)},f=function(a,b){a.classList.remove(b)}):(d=function(a,c){return b(c).test(a.className)},e=function(a,b){d(a,b)||(a.className=a.className+" "+b)},f=function(a,c){a.className=a.className.replace(b(c)," ")});var g={hasClass:d,addClass:e,removeClass:f,toggleClass:c,has:d,add:e,remove:f,toggle:c};"function"==typeof define&&define.amd?define(g):a.classie=g}(window),!window.addEventListener&&window.Element&&function(){function a(a,b){Window.prototype[a]=HTMLDocument.prototype[a]=Element.prototype[a]=b}var b=[];a("addEventListener",function(a,c){var d=this;b.unshift({__listener:function(a){a.currentTarget=d,a.pageX=a.clientX+document.documentElement.scrollLeft,a.pageY=a.clientY+document.documentElement.scrollTop,a.preventDefault=function(){a.returnValue=!1},a.relatedTarget=a.fromElement||null,a.stopPropagation=function(){a.cancelBubble=!0},a.relatedTarget=a.fromElement||null,a.target=a.srcElement||d,a.timeStamp=+new Date,c.call(d,a)},listener:c,target:d,type:a}),this.attachEvent("on"+a,b[0].__listener)}),a("removeEventListener",function(a,c){for(var d=0,e=b.length;e>d;++d)if(b[d].target==this&&b[d].type==a&&b[d].listener==c)return this.detachEvent("on"+a,b.splice(d,1)[0].__listener)}),a("dispatchEvent",function(a){try{return this.fireEvent("on"+a.type,a)}catch(c){for(var d=0,e=b.length;e>d;++d)b[d].target==this&&b[d].type==a.type&&b[d].call(this,a)}})}(),!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.Parse=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){function d(a,b,c){if(a=a||"",a=a.replace(/^\s*/,""),a=a.replace(/\s*$/,""),0===a.length)throw new TypeError("A name for the custom event must be provided");for(var d in b)if("string"!=typeof d||"string"!=typeof b[d])throw new TypeError('track() dimensions expects keys and values of type "string".');return c=c||{},g["default"].getAnalyticsController().track(a,b)._thenRunCallbacks(c)}var e=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c.track=d;var f=a("./CoreManager"),g=e(f);g["default"].setAnalyticsController({track:function(a,b){var c=g["default"].getRESTController();return c.request("POST","events/"+a,{dimensions:b})}})},{"./CoreManager":3,"babel-runtime/helpers/interop-require-default":47}],2:[function(a,b,c){function d(a,b,c){if(c=c||{},"string"!=typeof a||0===a.length)throw new TypeError("Cloud function name must be a string.");return g["default"].getCloudController().run(a,b,{useMasterKey:c.useMasterKey})._thenRunCallbacks(c)}var e=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c.run=d;var f=a("./CoreManager"),g=e(f),h=a("./decode"),i=e(h),j=a("./encode"),k=e(j),l=a("./ParseError"),m=e(l),n=a("./ParsePromise"),o=e(n);g["default"].setCloudController({run:function(a,b,c){var d=g["default"].getRESTController(),e=(0,k["default"])(b,!0),f=d.request("POST","functions/"+a,e,{useMasterKey:!!c.useMasterKey});return f.then(function(a){var b=(0,i["default"])(a);return b&&b.hasOwnProperty("result")?o["default"].as(b.result):o["default"].error(new m["default"](m["default"].INVALID_JSON,"The server returned an invalid response."))})._thenRunCallbacks(c)}})},{"./CoreManager":3,"./ParseError":10,"./ParsePromise":16,"./decode":29,"./encode":30,"babel-runtime/helpers/interop-require-default":47}],3:[function(a,b,c){(function(a){var c={IS_NODE:"undefined"!=typeof a&&!!a.versions&&!!a.versions.node,REQUEST_ATTEMPT_LIMIT:5,SERVER_URL:"https://api.parse.com",VERSION:"1.6.7",APPLICATION_ID:null,JAVASCRIPT_KEY:null,MASTER_KEY:null,USE_MASTER_KEY:!1,PERFORM_USER_REWRITE:!0,FORCE_REVOCABLE_SESSION:!1};b.exports={get:function(a){if(c.hasOwnProperty(a))return c[a];throw new Error("Configuration key not found: "+a)},set:function(a,b){c[a]=b},setAnalyticsController:function(a){if("function"!=typeof a.track)throw new Error("AnalyticsController must implement track()");c.AnalyticsController=a},getAnalyticsController:function(){return c.AnalyticsController},setCloudController:function(a){if("function"!=typeof a.run)throw new Error("CloudController must implement run()");c.CloudController=a},getCloudController:function(){return c.CloudController},setConfigController:function(a){if("function"!=typeof a.current)throw new Error("ConfigController must implement current()");if("function"!=typeof a.get)throw new Error("ConfigController must implement get()");c.ConfigController=a},getConfigController:function(){return c.ConfigController},setFileController:function(a){if("function"!=typeof a.saveFile)throw new Error("FileController must implement saveFile()");if("function"!=typeof a.saveBase64)throw new Error("FileController must implement saveBase64()");c.FileController=a},getFileController:function(){return c.FileController},setInstallationController:function(a){if("function"!=typeof a.currentInstallationId)throw new Error("InstallationController must implement currentInstallationId()");c.InstallationController=a},getInstallationController:function(){return c.InstallationController},setPushController:function(a){if("function"!=typeof a.send)throw new Error("PushController must implement send()");c.PushController=a},getPushController:function(){return c.PushController},setObjectController:function(a){if("function"!=typeof a.save)throw new Error("ObjectController must implement save()");if("function"!=typeof a.fetch)throw new Error("ObjectController must implement fetch()");if("function"!=typeof a.destroy)throw new Error("ObjectController must implement destroy()");c.ObjectController=a},getObjectController:function(){return c.ObjectController},setQueryController:function(a){if("function"!=typeof a.find)throw new Error("QueryController must implement find()");c.QueryController=a},getQueryController:function(){return c.QueryController},setRESTController:function(a){if("function"!=typeof a.request)throw new Error("RESTController must implement request()");if("function"!=typeof a.ajax)throw new Error("RESTController must implement ajax()");c.RESTController=a},getRESTController:function(){return c.RESTController},setSessionController:function(a){if("function"!=typeof a.getSession)throw new Error("A SessionController must implement getSession()");c.SessionController=a},getSessionController:function(){return c.SessionController},setStorageController:function(a){if(a.async){if("function"!=typeof a.getItemAsync)throw new Error("An async StorageController must implement getItemAsync()");if("function"!=typeof a.setItemAsync)throw new Error("An async StorageController must implement setItemAsync()");if("function"!=typeof a.removeItemAsync)throw new Error("An async StorageController must implement removeItemAsync()")}else{if("function"!=typeof a.getItem)throw new Error("A synchronous StorageController must implement getItem()");if("function"!=typeof a.setItem)throw new Error("A synchronous StorageController must implement setItem()");if("function"!=typeof a.removeItem)throw new Error("A synchonous StorageController must implement removeItem()")}c.StorageController=a},getStorageController:function(){return c.StorageController},setUserController:function(a){if("function"!=typeof a.setCurrentUser)throw new Error("A UserController must implement setCurrentUser()");if("function"!=typeof a.currentUser)throw new Error("A UserController must implement currentUser()");if("function"!=typeof a.currentUserAsync)throw new Error("A UserController must implement currentUserAsync()");if("function"!=typeof a.signUp)throw new Error("A UserController must implement signUp()");if("function"!=typeof a.logIn)throw new Error("A UserController must implement logIn()");if("function"!=typeof a.become)throw new Error("A UserController must implement become()");if("function"!=typeof a.logOut)throw new Error("A UserController must implement logOut()");if("function"!=typeof a.requestPasswordReset)throw new Error("A UserController must implement requestPasswordReset()");if("function"!=typeof a.upgradeToRevocableSession)throw new Error("A UserController must implement upgradeToRevocableSession()");if("function"!=typeof a.linkWith)throw new Error("A UserController must implement linkWith()");c.UserController=a},getUserController:function(){return c.UserController}}}).call(this,a("_process"))},{_process:49}],4:[function(a,b,c){var d=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var e,f,g=a("./parseDate"),h=d(g),i=a("./ParseUser"),j=d(i),k=!1;c["default"]={init:function(a){if("undefined"==typeof FB)throw new Error("The Facebook JavaScript SDK must be loaded before calling init.");if(f={},a)for(var b in a)f[b]=a[b];if(f.status&&"undefined"!=typeof console){var c=console.warn||console.log||function(){};c.call(console,'The "status" flag passed into FB.init, when set to true, can interfere with Parse Facebook integration, so it has been suppressed. Please call FB.getLoginStatus() explicitly if you require this behavior.')}f.status=!1,FB.init(f),j["default"]._registerAuthenticationProvider({authenticate:function(a){var b=this;"undefined"==typeof FB&&a.error(this,"Facebook SDK not found."),FB.login(function(c){c.authResponse?a.success&&a.success(b,{id:c.authResponse.userID,access_token:c.authResponse.accessToken,expiration_date:new Date(1e3*c.authResponse.expiresIn+(new Date).getTime()).toJSON()}):a.error&&a.error(b,c)},{scope:e})},restoreAuthentication:function(a){if(a){var b=(0,h["default"])(a.expiration_date),c=b?(b.getTime()-(new Date).getTime())/1e3:0,d={userID:a.id,accessToken:a.access_token,expiresIn:c},e={};if(f)for(var g in f)e[g]=f[g];e.authResponse=d,e.status=!1;var i=FB.getAuthResponse();i&&i.userID!==d.userID&&FB.logout(),FB.init(e)}return!0},getAuthType:function(){return"facebook"},deauthenticate:function(){this.restoreAuthentication(null)}}),k=!0},isLinked:function(a){return a._isLinked("facebook")},logIn:function(a,b){if(a&&"string"!=typeof a){var c={};if(b)for(var d in b)c[d]=b[d];return c.authData=a,j["default"]._logInWith("facebook",c)}if(!k)throw new Error("You must initialize FacebookUtils before calling logIn.");return e=a,j["default"]._logInWith("facebook",b)},link:function(a,b,c){if(b&&"string"!=typeof b){var d={};if(c)for(var f in c)d[f]=c[f];return d.authData=b,a._linkWith("facebook",d)}if(!k)throw new Error("You must initialize FacebookUtils before calling link.");return e=b,a._linkWith("facebook",c)},unlink:function(a,b){if(!k)throw new Error("You must initialize FacebookUtils before calling unlink.");return a._unlinkFrom("facebook",b)}},b.exports=c["default"]},{"./ParseUser":21,"./parseDate":34,"babel-runtime/helpers/interop-require-default":47}],5:[function(a,b,c){function d(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function e(){return d()+d()+"-"+d()+"-"+d()+"-"+d()+"-"+d()+d()+d()}var f=a("babel-runtime/helpers/interop-require-default")["default"],g=a("./CoreManager"),h=(f(g),a("./ParsePromise")),i=f(h),j=a("./Storage"),k=f(j),l=null;b.exports={currentInstallationId:function(){if("string"==typeof l)return i["default"].as(l);var a=k["default"].generatePath("installationId");return k["default"].getItemAsync(a).then(function(b){return b?(l=b,b):(b=e(),k["default"].setItemAsync(a,b).then(function(){return l=b,b}))})},_clearCache:function(){l=null},_setInstallationIdCache:function(a){l=a}}},{"./CoreManager":3,"./ParsePromise":16,"./Storage":24,"babel-runtime/helpers/interop-require-default":47}],6:[function(a,b,c){function d(a,b){var c=G[a];return c?c[b]||null:null}function e(a,b,c){var e=d(a,b);return e?e:(G[a]||(G[a]={}),c||(c={serverData:{},pendingOps:[{}],objectCache:{},tasks:new E["default"],existed:!1}),e=G[a][b]=c)}function f(a,b){var c=d(a,b);return null===c?null:(delete G[a][b],c)}function g(a,b){var c=d(a,b);return c?c.serverData:{}}function h(a,b,c){var d=e(a,b).serverData;for(var f in c)"undefined"!=typeof c[f]?d[f]=c[f]:delete d[f]}function i(a,b){var c=d(a,b);return c?c.pendingOps:[{}]}function j(a,b,c,d){var f=e(a,b).pendingOps,g=f.length-1;d?f[g][c]=d:delete f[g][c]}function k(a,b){var c=e(a,b).pendingOps;c.push({})}function l(a,b){var c=e(a,b).pendingOps,d=c.shift();return c.length||(c[0]={}),d}function m(a,b){var c=l(a,b),d=i(a,b),e=d[0];for(var f in c)if(e[f]&&c[f]){var g=e[f].mergeWith(c[f]);g&&(e[f]=g)}else e[f]=c[f]}function n(a,b){var c=d(a,b);return c?c.objectCache:{}}function o(a,b,c){for(var d=g(a,b),e=d[c],f=i(a,b),h=0;h<f.length;h++)f[h][c]&&(e=f[h][c]instanceof F.RelationOp?f[h][c].applyTo(e,{className:a,id:b},c):f[h][c].applyTo(e));return e}function p(a,b){var c,d={},e=g(a,b);for(c in e)d[c]=e[c];for(var f=i(a,b),h=0;h<f.length;h++)for(c in f[h])f[h][c]instanceof F.RelationOp?d[c]=f[h][c].applyTo(d[c],{className:a,id:b},c):d[c]=f[h][c].applyTo(d[c]);return d}function q(a,b,c){var d=e(a,b);for(var f in c){var g=c[f];if(d.serverData[f]=g,g&&"object"==typeof g&&!(g instanceof z["default"])&&!(g instanceof x["default"])&&!(g instanceof C["default"])){var h=(0,v["default"])(g,!1,!0);d.objectCache[f]=JSON.stringify(h)}}}function r(a,b,c){var d=e(a,b);return d.tasks.enqueue(c)}function s(){G={}}var t=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c.getState=d,c.initializeState=e,c.removeState=f,c.getServerData=g,c.setServerData=h,c.getPendingOps=i,c.setPendingOp=j,c.pushPendingState=k,c.popPendingState=l,c.mergeFirstPendingState=m,c.getObjectCache=n,c.estimateAttribute=o,c.estimateAttributes=p,c.commitServerChanges=q,c.enqueueTask=r,c._clearAllState=s;var u=a("./encode"),v=t(u),w=a("./ParseFile"),x=t(w),y=a("./ParseObject"),z=t(y),A=a("./ParsePromise"),B=(t(A),a("./ParseRelation")),C=t(B),D=a("./TaskQueue"),E=t(D),F=a("./ParseOp"),G={}},{"./ParseFile":11,"./ParseObject":14,"./ParseOp":15,"./ParsePromise":16,"./ParseRelation":18,"./TaskQueue":26,"./encode":30,"babel-runtime/helpers/interop-require-default":47}],7:[function(a,b,c){var d=a("babel-runtime/helpers/interop-require-default")["default"],e=a("babel-runtime/helpers/interop-require-wildcard")["default"],f=a("./decode"),g=d(f),h=a("./encode"),i=d(h),j=a("./CoreManager"),k=d(j),l=a("./InstallationController"),m=d(l),n=a("./ParseOp"),o=e(n),p=a("./RESTController"),q=d(p),r={initialize:function(a,b){k["default"].get("IS_NODE")&&console.log("It looks like you're using the browser version of the SDK in a node.js environment. You should require('parse/node') instead."),r._initialize(a,b)},_initialize:function(a,b,c){k["default"].set("APPLICATION_ID",a),k["default"].set("JAVASCRIPT_KEY",b),k["default"].set("MASTER_KEY",c),k["default"].set("USE_MASTER_KEY",!1)}};Object.defineProperty(r,"applicationId",{get:function(){return k["default"].get("APPLICATION_ID")},set:function(a){k["default"].set("APPLICATION_ID",a)}}),Object.defineProperty(r,"javaScriptKey",{get:function(){return k["default"].get("JAVASCRIPT_KEY")},set:function(a){k["default"].set("JAVASCRIPT_KEY",a)}}),Object.defineProperty(r,"masterKey",{get:function(){return k["default"].get("MASTER_KEY")},set:function(a){k["default"].set("MASTER_KEY",a)}}),Object.defineProperty(r,"serverURL",{get:function(){return k["default"].get("SERVER_URL")},set:function(a){k["default"].set("SERVER_URL",a)}}),r.ACL=a("./ParseACL"),r.Analytics=a("./Analytics"),r.Cloud=a("./Cloud"),r.CoreManager=a("./CoreManager"),r.Config=a("./ParseConfig"),r.Error=a("./ParseError"),r.FacebookUtils=a("./FacebookUtils"),r.File=a("./ParseFile"),r.GeoPoint=a("./ParseGeoPoint"),r.Installation=a("./ParseInstallation"),r.Object=a("./ParseObject"),r.Op={Set:o.SetOp,Unset:o.UnsetOp,Increment:o.IncrementOp,Add:o.AddOp,Remove:o.RemoveOp,AddUnique:o.AddUniqueOp,Relation:o.RelationOp},r.Promise=a("./ParsePromise"),r.Push=a("./Push"),r.Query=a("./ParseQuery"),r.Relation=a("./ParseRelation"),r.Role=a("./ParseRole"),r.Session=a("./ParseSession"),r.Storage=a("./Storage"),r.User=a("./ParseUser"),r._request=function(){for(var a=arguments.length,b=Array(a),c=0;a>c;c++)b[c]=arguments[c];return k["default"].getRESTController().request.apply(null,b)},r._ajax=function(){for(var a=arguments.length,b=Array(a),c=0;a>c;c++)b[c]=arguments[c];return k["default"].getRESTController().ajax.apply(null,b)},r._decode=function(a,b){return(0,g["default"])(b)},r._encode=function(a,b,c){return(0,i["default"])(a,c)},r._getInstallationId=function(){return k["default"].getInstallationController().currentInstallationId()},k["default"].setInstallationController(m["default"]),k["default"].setRESTController(q["default"]),r.Parse=r,b.exports=r},{"./Analytics":1,"./Cloud":2,"./CoreManager":3,"./FacebookUtils":4,"./InstallationController":5,"./ParseACL":8,"./ParseConfig":9,"./ParseError":10,"./ParseFile":11,"./ParseGeoPoint":12,"./ParseInstallation":13,"./ParseObject":14,"./ParseOp":15,"./ParsePromise":16,"./ParseQuery":17,"./ParseRelation":18,"./ParseRole":19,"./ParseSession":20,"./ParseUser":21,"./Push":22,"./RESTController":23,"./Storage":24,"./decode":29,"./encode":30,"babel-runtime/helpers/interop-require-default":47,"babel-runtime/helpers/interop-require-wildcard":48}],8:[function(a,b,c){var d=a("babel-runtime/helpers/create-class")["default"],e=a("babel-runtime/helpers/class-call-check")["default"],f=a("babel-runtime/core-js/object/keys")["default"],g=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var h=a("./ParseRole"),i=g(h),j=a("./ParseUser"),k=g(j),l="*",m=function(){function a(b){if(e(this,a),this.permissionsById={},b&&"object"==typeof b)if(b instanceof k["default"])this.setReadAccess(b,!0),this.setWriteAccess(b,!0);else for(var c in b){var d=b[c];if("string"!=typeof c)throw new TypeError("Tried to create an ACL with an invalid user id.");this.permissionsById[c]={};for(var f in d){var g=d[f];if("read"!==f&&"write"!==f)throw new TypeError("Tried to create an ACL with an invalid permission type.");if("boolean"!=typeof g)throw new TypeError("Tried to create an ACL with an invalid permission value.");this.permissionsById[c][f]=g}}else if("function"==typeof b)throw new TypeError("ParseACL constructed with a function. Did you forget ()?")}return d(a,[{key:"toJSON",value:function(){var a={};for(var b in this.permissionsById)a[b]=this.permissionsById[b];return a}},{key:"equals",value:function(b){if(!(b instanceof a))return!1;var c=f(this.permissionsById),d=f(b.permissionsById);if(c.length!==d.length)return!1;for(var e in this.permissionsById){if(!b.permissionsById[e])return!1;if(this.permissionsById[e].read!==b.permissionsById[e].read)return!1;if(this.permissionsById[e].write!==b.permissionsById[e].write)return!1}return!0}},{key:"_setAccess",value:function(a,b,c){if(b instanceof k["default"]?b=b.id:b instanceof i["default"]&&(b="role:"+b.getName()),"string"!=typeof b)throw new TypeError("userId must be a string.");if("boolean"!=typeof c)throw new TypeError("allowed must be either true or false.");var d=this.permissionsById[b];if(!d){if(!c)return;d={},this.permissionsById[b]=d}c?this.permissionsById[b][a]=!0:(delete d[a],0===f(d).length&&delete this.permissionsById[b])}},{key:"_getAccess",value:function(a,b){b instanceof k["default"]?b=b.id:b instanceof i["default"]&&(b="role:"+b.getName());var c=this.permissionsById[b];return c?!!c[a]:!1}},{key:"setReadAccess",value:function(a,b){this._setAccess("read",a,b)}},{key:"getReadAccess",value:function(a){return this._getAccess("read",a)}},{key:"setWriteAccess",value:function(a,b){this._setAccess("write",a,b)}},{key:"getWriteAccess",value:function(a){return this._getAccess("write",a)}},{key:"setPublicReadAccess",value:function(a){this.setReadAccess(l,a)}},{key:"getPublicReadAccess",value:function(){return this.getReadAccess(l)}},{key:"setPublicWriteAccess",
value:function(a){this.setWriteAccess(l,a)}},{key:"getPublicWriteAccess",value:function(){return this.getWriteAccess(l)}},{key:"getRoleReadAccess",value:function(a){if(a instanceof i["default"]&&(a=a.getName()),"string"!=typeof a)throw new TypeError("role must be a ParseRole or a String");return this.getReadAccess("role:"+a)}},{key:"getRoleWriteAccess",value:function(a){if(a instanceof i["default"]&&(a=a.getName()),"string"!=typeof a)throw new TypeError("role must be a ParseRole or a String");return this.getWriteAccess("role:"+a)}},{key:"setRoleReadAccess",value:function(a,b){if(a instanceof i["default"]&&(a=a.getName()),"string"!=typeof a)throw new TypeError("role must be a ParseRole or a String");this.setReadAccess("role:"+a,b)}},{key:"setRoleWriteAccess",value:function(a,b){if(a instanceof i["default"]&&(a=a.getName()),"string"!=typeof a)throw new TypeError("role must be a ParseRole or a String");this.setWriteAccess("role:"+a,b)}}]),a}();c["default"]=m,b.exports=c["default"]},{"./ParseRole":19,"./ParseUser":21,"babel-runtime/core-js/object/keys":41,"babel-runtime/helpers/class-call-check":43,"babel-runtime/helpers/create-class":44,"babel-runtime/helpers/interop-require-default":47}],9:[function(a,b,c){function d(a){try{var b=JSON.parse(a);if(b&&"object"==typeof b)return(0,k["default"])(b)}catch(c){return null}}var e=a("babel-runtime/helpers/create-class")["default"],f=a("babel-runtime/helpers/class-call-check")["default"],g=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var h=a("./CoreManager"),i=g(h),j=a("./decode"),k=g(j),l=a("./encode"),m=(g(l),a("./escape")),n=g(m),o=a("./ParseError"),p=g(o),q=a("./ParsePromise"),r=g(q),s=a("./Storage"),t=g(s),u=function(){function a(){f(this,a),this.attributes={},this._escapedAttributes={}}return e(a,[{key:"get",value:function(a){return this.attributes[a]}},{key:"escape",value:function(a){var b=this._escapedAttributes[a];if(b)return b;var c=this.attributes[a],d="";return null!=c&&(d=(0,n["default"])(c.toString())),this._escapedAttributes[a]=d,d}}],[{key:"current",value:function(){var a=i["default"].getConfigController();return a.current()}},{key:"get",value:function(a){a=a||{};var b=i["default"].getConfigController();return b.get()._thenRunCallbacks(a)}}]),a}();c["default"]=u;var v=null,w="currentConfig";i["default"].setConfigController({current:function(){if(v)return v;var a,b=new u,c=t["default"].generatePath(w);if(!t["default"].async()){if(a=t["default"].getItem(c)){var e=d(a);e&&(b.attributes=e,v=b)}return b}return t["default"].getItemAsync(c).then(function(a){if(a){var c=d(a);c&&(b.attributes=c,v=b)}return b})},get:function(){var a=i["default"].getRESTController();return a.request("GET","config",{},{}).then(function(a){if(!a||!a.params){var b=new p["default"](p["default"].INVALID_JSON,"Config JSON response invalid.");return r["default"].error(b)}var c=new u;c.attributes={};for(var d in a.params)c.attributes[d]=(0,k["default"])(a.params[d]);return v=c,t["default"].setItemAsync(t["default"].generatePath(w),JSON.stringify(a.params)).then(function(){return c})})}}),b.exports=c["default"]},{"./CoreManager":3,"./ParseError":10,"./ParsePromise":16,"./Storage":24,"./decode":29,"./encode":30,"./escape":32,"babel-runtime/helpers/class-call-check":43,"babel-runtime/helpers/create-class":44,"babel-runtime/helpers/interop-require-default":47}],10:[function(a,b,c){var d=a("babel-runtime/helpers/class-call-check")["default"];Object.defineProperty(c,"__esModule",{value:!0});var e=function f(a,b){d(this,f),this.code=a,this.message=b};c["default"]=e,e.OTHER_CAUSE=-1,e.INTERNAL_SERVER_ERROR=1,e.CONNECTION_FAILED=100,e.OBJECT_NOT_FOUND=101,e.INVALID_QUERY=102,e.INVALID_CLASS_NAME=103,e.MISSING_OBJECT_ID=104,e.INVALID_KEY_NAME=105,e.INVALID_POINTER=106,e.INVALID_JSON=107,e.COMMAND_UNAVAILABLE=108,e.NOT_INITIALIZED=109,e.INCORRECT_TYPE=111,e.INVALID_CHANNEL_NAME=112,e.PUSH_MISCONFIGURED=115,e.OBJECT_TOO_LARGE=116,e.OPERATION_FORBIDDEN=119,e.CACHE_MISS=120,e.INVALID_NESTED_KEY=121,e.INVALID_FILE_NAME=122,e.INVALID_ACL=123,e.TIMEOUT=124,e.INVALID_EMAIL_ADDRESS=125,e.MISSING_CONTENT_TYPE=126,e.MISSING_CONTENT_LENGTH=127,e.INVALID_CONTENT_LENGTH=128,e.FILE_TOO_LARGE=129,e.FILE_SAVE_ERROR=130,e.DUPLICATE_VALUE=137,e.INVALID_ROLE_NAME=139,e.EXCEEDED_QUOTA=140,e.SCRIPT_FAILED=141,e.VALIDATION_ERROR=142,e.INVALID_IMAGE_DATA=143,e.UNSAVED_FILE_ERROR=151,e.INVALID_PUSH_TIME_ERROR=152,e.FILE_DELETE_ERROR=153,e.REQUEST_LIMIT_EXCEEDED=155,e.INVALID_EVENT_NAME=160,e.USERNAME_MISSING=200,e.PASSWORD_MISSING=201,e.USERNAME_TAKEN=202,e.EMAIL_TAKEN=203,e.EMAIL_MISSING=204,e.EMAIL_NOT_FOUND=205,e.SESSION_MISSING=206,e.MUST_CREATE_USER_THROUGH_SIGNUP=207,e.ACCOUNT_ALREADY_LINKED=208,e.INVALID_SESSION_TOKEN=209,e.LINKED_ID_MISSING=250,e.INVALID_LINKED_SESSION=251,e.UNSUPPORTED_SERVICE=252,e.AGGREGATE_ERROR=600,e.FILE_READ_ERROR=601,e.X_DOMAIN_REQUEST=602,b.exports=c["default"]},{"babel-runtime/helpers/class-call-check":43}],11:[function(a,b,c){function d(a){if(26>a)return String.fromCharCode(65+a);if(52>a)return String.fromCharCode(97+(a-26));if(62>a)return String.fromCharCode(48+(a-52));if(62===a)return"+";if(63===a)return"/";throw new TypeError("Tried to encode large digit "+a+" in base64.")}var e=a("babel-runtime/helpers/create-class")["default"],f=a("babel-runtime/helpers/class-call-check")["default"],g=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var h=a("./CoreManager"),i=g(h),j=a("./ParsePromise"),k=(g(j),function(){function a(b,c,d){f(this,a);var e=d||"";if(this._name=b,Array.isArray(c))this._source={format:"base64",base64:a.encodeBase64(c),type:e};else if("undefined"!=typeof File&&c instanceof File)this._source={format:"file",file:c,type:e};else if(c&&c.hasOwnProperty("base64")){var g=/^data:([a-zA-Z]*\/[a-zA-Z+.-]*);(charset=[a-zA-Z0-9\-\/\s]*,)?base64,(\S+)/.exec(c.base64);g&&g.length>0?this._source={format:"base64",base64:4===g.length?g[3]:g[2],type:g[1]}:this._source={format:"base64",base64:c.base64,type:e}}else if("undefined"!=typeof c)throw new TypeError("Cannot create a Parse.File with that data.")}return e(a,[{key:"name",value:function(){return this._name}},{key:"url",value:function(){return this._url}},{key:"save",value:function(a){var b=this;a=a||{};var c=i["default"].getFileController();return this._previousSave||("file"===this._source.format?this._previousSave=c.saveFile(this._name,this._source).then(function(a){return b._name=a.name,b._url=a.url,b}):this._previousSave=c.saveBase64(this._name,this._source).then(function(a){return b._name=a.name,b._url=a.url,b})),this._previousSave?this._previousSave._thenRunCallbacks(a):void 0}},{key:"toJSON",value:function(){return{__type:"File",name:this._name,url:this._url}}},{key:"equals",value:function(b){return this===b?!0:b instanceof a&&this.name()===b.name()&&this.url()===b.url()&&"undefined"!=typeof this.url()}}],[{key:"fromJSON",value:function(b){if("File"!==b.__type)throw new TypeError("JSON object does not represent a ParseFile");var c=new a(b.name);return c._url=b.url,c}},{key:"encodeBase64",value:function(a){var b=[];b.length=Math.ceil(a.length/3);for(var c=0;c<b.length;c++){var e=a[3*c],f=a[3*c+1]||0,g=a[3*c+2]||0,h=3*c+1<a.length,i=3*c+2<a.length;b[c]=[d(e>>2&63),d(e<<4&48|f>>4&15),h?d(f<<2&60|g>>6&3):"=",i?d(63&g):"="].join("")}return b.join("")}}]),a}());c["default"]=k,i["default"].setFileController({saveFile:function(a,b){if("file"!==b.format)throw new Error("saveFile can only be used with File-type sources.");var c={"X-Parse-Application-ID":i["default"].get("APPLICATION_ID"),"X-Parse-JavaScript-Key":i["default"].get("JAVASCRIPT_KEY")},d=i["default"].get("SERVER_URL");return d+="/1/files/"+a,i["default"].getRESTController().ajax("POST",d,b.file,c)},saveBase64:function(a,b){if("base64"!==b.format)throw new Error("saveBase64 can only be used with Base64-type sources.");var c={base64:b.base64};return b.type&&(c._ContentType=b.type),i["default"].getRESTController().request("POST","files/"+a,c)}}),b.exports=c["default"]},{"./CoreManager":3,"./ParsePromise":16,"babel-runtime/helpers/class-call-check":43,"babel-runtime/helpers/create-class":44,"babel-runtime/helpers/interop-require-default":47}],12:[function(a,b,c){var d=a("babel-runtime/helpers/create-class")["default"],e=a("babel-runtime/helpers/class-call-check")["default"],f=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var g=a("./ParsePromise"),h=f(g),i=function(){function a(b,c){e(this,a),Array.isArray(b)?(a._validate(b[0],b[1]),this._latitude=b[0],this._longitude=b[1]):"object"==typeof b?(a._validate(b.latitude,b.longitude),this._latitude=b.latitude,this._longitude=b.longitude):"number"==typeof b&&"number"==typeof c?(a._validate(b,c),this._latitude=b,this._longitude=c):(this._latitude=0,this._longitude=0)}return d(a,[{key:"toJSON",value:function(){return a._validate(this._latitude,this._longitude),{__type:"GeoPoint",latitude:this._latitude,longitude:this._longitude}}},{key:"equals",value:function(b){return b instanceof a&&this.latitude===b.latitude&&this.longitude===b.longitude}},{key:"radiansTo",value:function(a){var b=Math.PI/180,c=this.latitude*b,d=this.longitude*b,e=a.latitude*b,f=a.longitude*b,g=Math.sin((c-e)/2),h=Math.sin((d-f)/2),i=g*g+Math.cos(c)*Math.cos(e)*h*h;return i=Math.min(1,i),2*Math.asin(Math.sqrt(i))}},{key:"kilometersTo",value:function(a){return 6371*this.radiansTo(a)}},{key:"milesTo",value:function(a){return 3958.8*this.radiansTo(a)}},{key:"latitude",get:function(){return this._latitude},set:function(b){a._validate(b,this.longitude),this._latitude=b}},{key:"longitude",get:function(){return this._longitude},set:function(b){a._validate(this.latitude,b),this._longitude=b}}],[{key:"_validate",value:function(a,b){if(a!==a||b!==b)throw new TypeError("GeoPoint latitude and longitude must be valid numbers");if(-90>a)throw new TypeError("GeoPoint latitude out of bounds: "+a+" < -90.0.");if(a>90)throw new TypeError("GeoPoint latitude out of bounds: "+a+" > 90.0.");if(-180>b)throw new TypeError("GeoPoint longitude out of bounds: "+b+" < -180.0.");if(b>180)throw new TypeError("GeoPoint longitude out of bounds: "+b+" > 180.0.")}},{key:"current",value:function(b){var c=new h["default"];return navigator.geolocation.getCurrentPosition(function(b){c.resolve(new a(b.coords.latitude,b.coords.longitude))},function(a){c.reject(a)}),c._thenRunCallbacks(b)}}]),a}();c["default"]=i,b.exports=c["default"]},{"./ParsePromise":16,"babel-runtime/helpers/class-call-check":43,"babel-runtime/helpers/create-class":44,"babel-runtime/helpers/interop-require-default":47}],13:[function(a,b,c){var d=a("babel-runtime/helpers/get")["default"],e=a("babel-runtime/helpers/inherits")["default"],f=a("babel-runtime/helpers/class-call-check")["default"],g=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var h=a("./ParseObject"),i=g(h),j=function(a){function b(a){if(f(this,b),d(Object.getPrototypeOf(b.prototype),"constructor",this).call(this,"_Installation"),a&&"object"==typeof a&&!this.set(a||{}))throw new Error("Can't create an invalid Session")}return e(b,a),b}(i["default"]);c["default"]=j,i["default"].registerSubclass("_Installation",j),b.exports=c["default"]},{"./ParseObject":14,"babel-runtime/helpers/class-call-check":43,"babel-runtime/helpers/get":45,"babel-runtime/helpers/inherits":46,"babel-runtime/helpers/interop-require-default":47}],14:[function(a,b,c){var d=a("babel-runtime/helpers/create-class")["default"],e=a("babel-runtime/helpers/class-call-check")["default"],f=a("babel-runtime/core-js/object/keys")["default"],g=a("babel-runtime/core-js/object/freeze")["default"],h=a("babel-runtime/core-js/object/create")["default"],i=a("babel-runtime/core-js/object/define-property")["default"],j=a("babel-runtime/helpers/interop-require-default")["default"],k=a("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(c,"__esModule",{value:!0});var l=a("./CoreManager"),m=j(l),n=a("./canBeSerialized"),o=j(n),p=a("./decode"),q=j(p),r=a("./encode"),s=j(r),t=a("./equals"),u=(j(t),a("./escape")),v=j(u),w=a("./ObjectState"),x=k(w),y=a("./ParseACL"),z=j(y),A=a("./parseDate"),B=j(A),C=a("./ParseError"),D=j(C),E=a("./ParseFile"),F=j(E),G=a("./ParseOp"),H=a("./ParsePromise"),I=j(H),J=a("./ParseQuery"),K=j(J),L=a("./ParseRelation"),M=j(L),N=a("./unique"),O=j(N),P=a("./unsavedChildren"),Q=j(P),R={},S=0,T=0,U=!m["default"].get("IS_NODE"),V=function(){function a(b,c){e(this,a);var d=null;if(this._objCount=T++,"string"==typeof b)this.className=b,c&&"object"==typeof c&&(d=c);else if(b&&"object"==typeof b){this.className=b.className,d={};for(var f in b)"className"!==f&&(d[f]=b[f])}if(d&&!this.set(d))throw new Error("Can't create an invalid Parse Object");"function"==typeof this.initialize&&this.initialize.apply(this,arguments)}return d(a,[{key:"_getId",value:function(){if("string"==typeof this.id)return this.id;if("string"==typeof this._localId)return this._localId;var a="local"+String(S++);return this._localId=a,a}},{key:"_getStateIdentifier",value:function(){return"string"==typeof this.id?U?this.id:this.id+"_"+String(this._objCount):this._getId()}},{key:"_getServerData",value:function(){return x.getServerData(this.className,this._getStateIdentifier())}},{key:"_clearServerData",value:function(){var a=this._getServerData(),b={};for(var c in a)b[c]=void 0;x.setServerData(this.className,this._getStateIdentifier(),b)}},{key:"_getPendingOps",value:function(){return x.getPendingOps(this.className,this._getStateIdentifier())}},{key:"_clearPendingOps",value:function(){var a=this._getPendingOps(),b=a[a.length-1],c=f(b);c.forEach(function(a){delete b[a]})}},{key:"_getDirtyObjectAttributes",value:function(){var b=this.attributes,c=x.getObjectCache(this.className,this._getStateIdentifier()),d={};for(var e in b){var f=b[e];if(f&&"object"==typeof f&&!(f instanceof a)&&!(f instanceof F["default"])&&!(f instanceof M["default"])){var g=(0,s["default"])(f,!1,!0),h=JSON.stringify(g);c[e]!==h&&(d[e]=f)}}return d}},{key:"_toFullJSON",value:function(){var a=this.toJSON();return a.__type="Object",a.className=this.className,a}},{key:"_getSaveJSON",value:function(){var a,b=this._getPendingOps(),c=this._getDirtyObjectAttributes(),d={};for(a in c)d[a]=new G.SetOp(c[a]).toJSON();for(a in b[0])d[a]=b[0][a].toJSON();return d}},{key:"_getSaveParams",value:function(){var a=this.id?"PUT":"POST",b=this._getSaveJSON(),c="classes/"+this.className;return this.id?c+="/"+this.id:"_User"===this.className&&(c="users"),{method:a,body:b,path:c}}},{key:"_finishFetch",value:function(a){!this.id&&a.objectId&&(this.id=a.objectId),x.initializeState(this.className,this._getStateIdentifier());var b={};for(var c in a)"ACL"===c?b[c]=new z["default"](a[c]):"objectId"!==c&&(b[c]=(0,q["default"])(a[c]),b[c]instanceof M["default"]&&b[c]._ensureParentAndKey(this,c));b.createdAt&&"string"==typeof b.createdAt&&(b.createdAt=(0,B["default"])(b.createdAt)),b.updatedAt&&"string"==typeof b.updatedAt&&(b.updatedAt=(0,B["default"])(b.updatedAt)),!b.updatedAt&&b.createdAt&&(b.updatedAt=b.createdAt),x.commitServerChanges(this.className,this._getStateIdentifier(),b)}},{key:"_setExisted",value:function(a){var b=x.getState(this.className,this._getStateIdentifier());b&&(b.existed=a)}},{key:"_migrateId",value:function(a){if(this._localId&&a){var b=x.removeState(this.className,this._getStateIdentifier());this.id=a,delete this._localId,b&&x.initializeState(this.className,this._getStateIdentifier(),b)}}},{key:"_handleSaveResponse",value:function(a,b){var c,d={},e=x.popPendingState(this.className,this._getStateIdentifier());for(c in e)e[c]instanceof G.RelationOp?d[c]=e[c].applyTo(void 0,this,c):c in a||(d[c]=e[c].applyTo(void 0));for(c in a)"createdAt"!==c&&"updatedAt"!==c||"string"!=typeof a[c]?"objectId"!==c&&(d[c]=(0,q["default"])(a[c])):d[c]=(0,B["default"])(a[c]);d.createdAt&&!d.updatedAt&&(d.updatedAt=d.createdAt),this._migrateId(a.objectId),201!==b&&this._setExisted(!0),x.commitServerChanges(this.className,this._getStateIdentifier(),d)}},{key:"_handleSaveError",value:function(){var a=this._getPendingOps();a.length>2&&x.mergeFirstPendingState(this.className,this._getStateIdentifier())}},{key:"initialize",value:function(){}},{key:"toJSON",value:function(){var a=this.id?this.className+":"+this.id:this,b={},c=this.attributes;for(var d in c)"createdAt"!==d&&"updatedAt"!==d||!c[d].toJSON?b[d]=(0,s["default"])(c[d],!1,!1,[a]):b[d]=c[d].toJSON();var e=this._getPendingOps();for(var d in e[0])b[d]=e[0][d].toJSON();return this.id&&(b.objectId=this.id),b}},{key:"equals",value:function(b){return this===b?!0:b instanceof a&&this.className===b.className&&this.id===b.id&&"undefined"!=typeof this.id}},{key:"dirty",value:function(a){if(!this.id)return!0;var b=this._getPendingOps(),c=this._getDirtyObjectAttributes();if(a){if(c.hasOwnProperty(a))return!0;for(var d=0;d<b.length;d++)if(b[d].hasOwnProperty(a))return!0;return!1}return 0!==f(b[0]).length?!0:0!==f(c).length?!0:!1}},{key:"dirtyKeys",value:function(){for(var a=this._getPendingOps(),b={},c=0;c<a.length;c++)for(var d in a[c])b[d]=!0;var e=this._getDirtyObjectAttributes();for(var d in e)b[d]=!0;return f(b)}},{key:"toPointer",value:function(){if(!this.id)throw new Error("Cannot create a pointer to an unsaved ParseObject");return{__type:"Pointer",className:this.className,objectId:this.id}}},{key:"get",value:function(a){return this.attributes[a]}},{key:"relation",value:function(a){var b=this.get(a);if(b){if(!(b instanceof M["default"]))throw new Error("Called relation() on non-relation field "+a);return b._ensureParentAndKey(this,a),b}return new M["default"](this,a)}},{key:"escape",value:function(a){var b=this.attributes[a];if(null==b)return"";if("string"!=typeof b){if("function"!=typeof b.toString)return"";b=b.toString()}return(0,v["default"])(b)}},{key:"has",value:function(a){var b=this.attributes;return b.hasOwnProperty(a)?null!=b[a]:!1}},{key:"set",value:function(a,b,c){var d={},e={};if(a&&"object"==typeof a)d=a,c=b;else{if("string"!=typeof a)return this;d[a]=b}c=c||{};var f=[];"function"==typeof this.constructor.readOnlyAttributes&&(f=f.concat(this.constructor.readOnlyAttributes()));for(var g in d)if("createdAt"!==g&&"updatedAt"!==g){if(f.indexOf(g)>-1)throw new Error("Cannot modify readonly attribute: "+g);c.unset?e[g]=new G.UnsetOp:d[g]instanceof G.Op?e[g]=d[g]:d[g]&&"object"==typeof d[g]&&"string"==typeof d[g].__op?e[g]=(0,G.opFromJSON)(d[g]):"objectId"===g||"id"===g?this.id=d[g]:"ACL"!==g||"object"!=typeof d[g]||d[g]instanceof z["default"]?e[g]=new G.SetOp(d[g]):e[g]=new G.SetOp(new z["default"](d[g]))}var h=this.attributes,i={};for(var j in e)e[j]instanceof G.RelationOp?i[j]=e[j].applyTo(h[j],this,j):e[j]instanceof G.UnsetOp||(i[j]=e[j].applyTo(h[j]));var k=this.validate(i);if(k)return"function"==typeof c.error&&c.error(this,k),!1;var l=this._getPendingOps(),m=l.length-1;for(var j in e){var n=e[j].mergeWith(l[m][j]);x.setPendingOp(this.className,this._getStateIdentifier(),j,n)}return this}},{key:"unset",value:function(a,b){return b=b||{},b.unset=!0,this.set(a,null,b)}},{key:"increment",value:function(a,b){if("undefined"==typeof b&&(b=1),"number"!=typeof b)throw new Error("Cannot increment by a non-numeric amount.");return this.set(a,new G.IncrementOp(b))}},{key:"add",value:function(a,b){return this.set(a,new G.AddOp([b]))}},{key:"addUnique",value:function(a,b){return this.set(a,new G.AddUniqueOp([b]))}},{key:"remove",value:function(a,b){return this.set(a,new G.RemoveOp([b]))}},{key:"op",value:function(a){for(var b=this._getPendingOps(),c=b.length;c--;)if(b[c][a])return b[c][a]}},{key:"clone",value:function b(){var b=new this.constructor;return b.set&&b.set(this.attributes),b.className||(b.className=this.className),b}},{key:"isNew",value:function(){return!this.id}},{key:"existed",value:function(){if(!this.id)return!1;var a=x.getState(this.className,this._getStateIdentifier());return a?a.existed:!1}},{key:"isValid",value:function(){return!this.validate(this.attributes)}},{key:"validate",value:function(a){if(a.hasOwnProperty("ACL")&&!(a.ACL instanceof z["default"]))return new D["default"](D["default"].OTHER_CAUSE,"ACL must be a Parse ACL.");for(var b in a)if(!/^[A-Za-z][0-9A-Za-z_]*$/.test(b))return new D["default"](D["default"].INVALID_KEY_NAME);return!1}},{key:"getACL",value:function(){var a=this.get("ACL");return a instanceof z["default"]?a:null}},{key:"setACL",value:function(a,b){return this.set("ACL",a,b)}},{key:"clear",value:function(){var a=this.attributes,b={},c=["createdAt","updatedAt"];"function"==typeof this.constructor.readOnlyAttributes&&(c=c.concat(this.constructor.readOnlyAttributes()));for(var d in a)c.indexOf(d)<0&&(b[d]=!0);return this.set(b,{unset:!0})}},{key:"fetch",value:function(a){a=a||{};var b={};a.hasOwnProperty("useMasterKey")&&(b.useMasterKey=a.useMasterKey),a.hasOwnProperty("sessionToken")&&(b.sessionToken=a.sessionToken);var c=m["default"].getObjectController();return c.fetch(this,!0,b)._thenRunCallbacks(a)}},{key:"save",value:function(a,b,c){var d,e,f=this;if("object"==typeof a||"undefined"==typeof a?(d=a,e=b):(d={},d[a]=b,e=c),!e&&d&&(e={},"function"==typeof d.success&&(e.success=d.success,delete d.success),"function"==typeof d.error&&(e.error=d.error,delete d.error)),d){var g=this.validate(d);if(g)return e&&"function"==typeof e.error&&e.error(this,g),I["default"].error(g);this.set(d,e)}e=e||{};var h={};e.hasOwnProperty("useMasterKey")&&(h.useMasterKey=e.useMasterKey),e.hasOwnProperty("sessionToken")&&(h.sessionToken=e.sessionToken);var i=m["default"].getObjectController(),j=(0,Q["default"])(this);return i.save(j,h).then(function(){return i.save(f,h)})._thenRunCallbacks(e,this)}},{key:"destroy",value:function(a){a=a||{};var b={};return a.hasOwnProperty("useMasterKey")&&(b.useMasterKey=a.useMasterKey),a.hasOwnProperty("sessionToken")&&(b.sessionToken=a.sessionToken),this.id?m["default"].getObjectController().destroy(this,b)._thenRunCallbacks(a):I["default"].as()._thenRunCallbacks(a)}},{key:"attributes",get:function(){return g(x.estimateAttributes(this.className,this._getStateIdentifier()))}},{key:"createdAt",get:function(){return this._getServerData().createdAt}},{key:"updatedAt",get:function(){return this._getServerData().updatedAt}}],[{key:"_clearAllState",value:function(){x._clearAllState()}},{key:"fetchAll",value:function(a,b){var b=b||{},c={};return b.hasOwnProperty("useMasterKey")&&(c.useMasterKey=b.useMasterKey),b.hasOwnProperty("sessionToken")&&(c.sessionToken=b.sessionToken),m["default"].getObjectController().fetch(a,!0,c)._thenRunCallbacks(b)}},{key:"fetchAllIfNeeded",value:function(a,b){var b=b||{},c={};return b.hasOwnProperty("useMasterKey")&&(c.useMasterKey=b.useMasterKey),b.hasOwnProperty("sessionToken")&&(c.sessionToken=b.sessionToken),m["default"].getObjectController().fetch(a,!1,c)._thenRunCallbacks(b)}},{key:"destroyAll",value:function(a,b){var b=b||{},c={};return b.hasOwnProperty("useMasterKey")&&(c.useMasterKey=b.useMasterKey),b.hasOwnProperty("sessionToken")&&(c.sessionToken=b.sessionToken),m["default"].getObjectController().destroy(a,c)._thenRunCallbacks(b)}},{key:"saveAll",value:function(a,b){var b=b||{},c={};return b.hasOwnProperty("useMasterKey")&&(c.useMasterKey=b.useMasterKey),b.hasOwnProperty("sessionToken")&&(c.sessionToken=b.sessionToken),m["default"].getObjectController().save(a,c)._thenRunCallbacks(b)}},{key:"createWithoutData",value:function(a){var b=new this;return b.id=a,b}},{key:"fromJSON",value:function(b){if(!b.className)throw new Error("Cannot create an object without a className");var c=R[b.className],d=c?new c:new a(b.className),e={};for(var f in b)"className"!==f&&"__type"!==f&&(e[f]=b[f]);return d._finishFetch(e),b.objectId&&d._setExisted(!0),d}},{key:"registerSubclass",value:function(a,b){if("string"!=typeof a)throw new TypeError("The first argument must be a valid class name.");if("undefined"==typeof b)throw new TypeError("You must supply a subclass constructor.");if("function"!=typeof b)throw new TypeError("You must register the subclass constructor. Did you attempt to register an instance of the subclass?");R[a]=b,b.className||(b.className=a)}},{key:"extend",value:function(b,c,d){if("string"!=typeof b){if(b&&"string"==typeof b.className)return a.extend(b.className,b,c);throw new Error("Parse.Object.extend's first argument should be the className.")}var e=b;"User"===e&&m["default"].get("PERFORM_USER_REWRITE")&&(e="_User");var f=a.prototype;this.hasOwnProperty("__super__")&&this.__super__?f=this.prototype:R[e]&&(f=R[e].prototype);var g=function(a){if(this.className=e,this._objCount=T++,a&&"object"==typeof a&&!this.set(a||{}))throw new Error("Can't create an invalid Parse Object");"function"==typeof this.initialize&&this.initialize.apply(this,arguments)};if(g.className=e,g.__super__=f,g.prototype=h(f,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),c)for(var j in c)"className"!==j&&i(g.prototype,j,{value:c[j],enumerable:!1,writable:!0,configurable:!0});if(d)for(var j in d)"className"!==j&&i(g,j,{value:d[j],enumerable:!1,writable:!0,configurable:!0});return g.extend=function(b,c,d){return"string"==typeof b?a.extend.call(g,b,c,d):a.extend.call(g,e,b,c)},g.createWithoutData=a.createWithoutData,R[e]=g,g}},{key:"enableSingleInstance",value:function(){U=!0}},{key:"disableSingleInstance",value:function(){U=!1}}]),a}();c["default"]=V,m["default"].setObjectController({fetch:function(a,b,c){if(Array.isArray(a)){if(a.length<1)return I["default"].as([]);var d=[],e=[],g=null,h=[],i=null;if(a.forEach(function(a,c){i||(g||(g=a.className),g!==a.className&&(i=new D["default"](D["default"].INVALID_CLASS_NAME,"All objects should be of the same class")),a.id||(i=new D["default"](D["default"].MISSING_OBJECT_ID,"All objects must have an ID")),(b||0===f(a._getServerData()).length)&&(e.push(a.id),d.push(a)),h.push(a))}),i)return I["default"].error(i);var j=new K["default"](g);return j.containedIn("objectId",e),j._limit=e.length,j.find(c).then(function(a){var c={};a.forEach(function(a){c[a.id]=a});for(var e=0;e<d.length;e++){var f=d[e];if((!f||!f.id||!c[f.id])&&b)return I["default"].error(new D["default"](D["default"].OBJECT_NOT_FOUND,"All objects must exist on the server."))}if(!U)for(var e=0;e<h.length;e++){var f=h[e];if(f&&f.id&&c[f.id]){var g=f.id;f._finishFetch(c[g].toJSON()),h[e]=c[g]}}return I["default"].as(h)})}var k=m["default"].getRESTController();return k.request("GET","classes/"+a.className+"/"+a._getId(),{},c).then(function(b,c,d){return a instanceof V&&(a._clearPendingOps(),a._finishFetch(b)),a})},destroy:function(a,b){var c=m["default"].getRESTController();if(Array.isArray(a)){if(a.length<1)return I["default"].as([]);var d=[[]];a.forEach(function(a){a.id&&(d[d.length-1].push(a),d[d.length-1].length>=20&&d.push([]))}),0===d[d.length-1].length&&d.pop();var e=I["default"].as(),f=[];return d.forEach(function(a){e=e.then(function(){return c.request("POST","batch",{requests:a.map(function(a){return{method:"DELETE",path:"/1/classes/"+a.className+"/"+a._getId(),body:{}}})},b).then(function(b){for(var c=0;c<b.length;c++)if(b[c]&&b[c].hasOwnProperty("error")){var d=new D["default"](b[c].error.code,b[c].error.error);d.object=a[c],f.push(d)}})})}),e.then(function(){if(f.length){var b=new D["default"](D["default"].AGGREGATE_ERROR);return b.errors=f,I["default"].error(b)}return I["default"].as(a)})}return a instanceof V?c.request("DELETE","classes/"+a.className+"/"+a._getId(),{},b).then(function(){return I["default"].as(a)}):I["default"].as(a)},save:function(a,b){var c=m["default"].getRESTController();if(Array.isArray(a)){if(a.length<1)return I["default"].as([]);for(var d=a.concat(),e=0;e<a.length;e++)a[e]instanceof V&&(d=d.concat((0,Q["default"])(a[e],!0)));d=(0,O["default"])(d);var f=I["default"].as(),g=[];return d.forEach(function(a){a instanceof F["default"]?f=f.then(function(){return a.save()}):a instanceof V&&g.push(a)}),f.then(function(){var d=null;return I["default"]._continueWhile(function(){return g.length>0},function(){var a=[],e=[];if(g.forEach(function(b){a.length<20&&(0,o["default"])(b)?a.push(b):e.push(b)}),g=e,a.length<1)return I["default"].error(new D["default"](D["default"].OTHER_CAUSE,"Tried to save a batch with a cycle."));var f=new I["default"],h=[],i=[];return a.forEach(function(a,b){var c=new I["default"];h.push(c);var e=function(){return c.resolve(),f.then(function(c,e){if(c[b].hasOwnProperty("success"))a._handleSaveResponse(c[b].success,e);else{if(!d&&c[b].hasOwnProperty("error")){var f=c[b].error;d=new D["default"](f.code,f.error),g=[]}a._handleSaveError()}})};x.pushPendingState(a.className,a._getStateIdentifier()),i.push(x.enqueueTask(a.className,a._getStateIdentifier(),e))}),I["default"].when(h).then(function(){return c.request("POST","batch",{requests:a.map(function(a){var b=a._getSaveParams();return b.path="/1/"+b.path,b})},b)}).then(function(a,b,c){f.resolve(a,b)}),I["default"].when(i)}).then(function(){return d?I["default"].error(d):I["default"].as(a)})})}if(a instanceof V){var h=a,i=function(){var a=h._getSaveParams();return c.request(a.method,a.path,a.body,b).then(function(a,b){h._handleSaveResponse(a,b)},function(a){return h._handleSaveError(),I["default"].error(a)})};return x.pushPendingState(a.className,a._getStateIdentifier()),x.enqueueTask(a.className,a._getStateIdentifier(),i).then(function(){return a},function(a){return a})}return I["default"].as()}}),b.exports=c["default"]},{"./CoreManager":3,"./ObjectState":6,"./ParseACL":8,"./ParseError":10,"./ParseFile":11,"./ParseOp":15,"./ParsePromise":16,"./ParseQuery":17,"./ParseRelation":18,"./canBeSerialized":28,"./decode":29,"./encode":30,"./equals":31,"./escape":32,"./parseDate":34,"./unique":35,"./unsavedChildren":36,"babel-runtime/core-js/object/create":37,"babel-runtime/core-js/object/define-property":38,"babel-runtime/core-js/object/freeze":39,"babel-runtime/core-js/object/keys":41,"babel-runtime/helpers/class-call-check":43,"babel-runtime/helpers/create-class":44,"babel-runtime/helpers/interop-require-default":47,"babel-runtime/helpers/interop-require-wildcard":48}],15:[function(a,b,c){function d(a){if(!a||!a.__op)return null;switch(a.__op){case"Delete":return new x;case"Increment":return new y(a.amount);case"Add":return new z((0,m["default"])(a.objects));case"AddUnique":return new A((0,m["default"])(a.objects));case"Remove":return new B((0,m["default"])(a.objects));case"AddRelation":var b=(0,m["default"])(a.objects);return Array.isArray(b)?new C(b,[]):new C([],[]);case"RemoveRelation":var c=(0,m["default"])(a.objects);return Array.isArray(c)?new C([],c):new C([],[]);case"Batch":for(var b=[],c=[],d=0;d<a.ops.length;d++)"AddRelation"===a.ops[d].__op?b=b.concat((0,m["default"])(a.ops[d].objects)):"RemoveRelation"===a.ops[d].__op&&(c=c.concat((0,m["default"])(a.ops[d].objects)));return new C(b,c)}return null}var e=a("babel-runtime/helpers/create-class")["default"],f=a("babel-runtime/helpers/class-call-check")["default"],g=a("babel-runtime/helpers/get")["default"],h=a("babel-runtime/helpers/inherits")["default"],i=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c.opFromJSON=d;var j=a("./arrayContainsObject"),k=i(j),l=a("./decode"),m=i(l),n=a("./encode"),o=i(n),p=a("./ParseObject"),q=i(p),r=a("./ParseRelation"),s=i(r),t=a("./unique"),u=i(t),v=function(){function a(){f(this,a)}return e(a,[{key:"applyTo",value:function(a){}},{key:"mergeWith",value:function(a){}},{key:"toJSON",value:function(){}}]),a}();c.Op=v;var w=function(a){function b(a){f(this,b),g(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this._value=a}return h(b,a),e(b,[{key:"applyTo",value:function(a){return this._value}},{key:"mergeWith",value:function(a){return new b(this._value)}},{key:"toJSON",value:function(){return(0,o["default"])(this._value,!1,!0)}}]),b}(v);c.SetOp=w;var x=function(a){function b(){f(this,b),g(Object.getPrototypeOf(b.prototype),"constructor",this).apply(this,arguments);
}return h(b,a),e(b,[{key:"applyTo",value:function(a){}},{key:"mergeWith",value:function(a){return new b}},{key:"toJSON",value:function(){return{__op:"Delete"}}}]),b}(v);c.UnsetOp=x;var y=function(a){function b(a){if(f(this,b),g(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),"number"!=typeof a)throw new TypeError("Increment Op must be initialized with a numeric amount.");this._amount=a}return h(b,a),e(b,[{key:"applyTo",value:function(a){if("undefined"==typeof a)return this._amount;if("number"!=typeof a)throw new TypeError("Cannot increment a non-numeric value.");return this._amount+a}},{key:"mergeWith",value:function(a){if(!a)return this;if(a instanceof w)return new w(this.applyTo(a._value));if(a instanceof x)return new w(this._amount);if(a instanceof b)return new b(this.applyTo(a._amount));throw new Error("Cannot merge Increment Op with the previous Op")}},{key:"toJSON",value:function(){return{__op:"Increment",amount:this._amount}}}]),b}(v);c.IncrementOp=y;var z=function(a){function b(a){f(this,b),g(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this._value=Array.isArray(a)?a:[a]}return h(b,a),e(b,[{key:"applyTo",value:function(a){if(null==a)return this._value;if(Array.isArray(a))return a.concat(this._value);throw new Error("Cannot add elements to a non-array value")}},{key:"mergeWith",value:function(a){if(!a)return this;if(a instanceof w)return new w(this.applyTo(a._value));if(a instanceof x)return new w(this._value);if(a instanceof b)return new b(this.applyTo(a._value));throw new Error("Cannot merge Add Op with the previous Op")}},{key:"toJSON",value:function(){return{__op:"Add",objects:(0,o["default"])(this._value,!1,!0)}}}]),b}(v);c.AddOp=z;var A=function(a){function b(a){f(this,b),g(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this._value=(0,u["default"])(Array.isArray(a)?a:[a])}return h(b,a),e(b,[{key:"applyTo",value:function(a){if(null==a)return this._value||[];if(Array.isArray(a)){var b=a,c=[];return this._value.forEach(function(a){a instanceof q["default"]?(0,k["default"])(b,a)||c.push(a):b.indexOf(a)<0&&c.push(a)}),a.concat(c)}throw new Error("Cannot add elements to a non-array value")}},{key:"mergeWith",value:function(a){if(!a)return this;if(a instanceof w)return new w(this.applyTo(a._value));if(a instanceof x)return new w(this._value);if(a instanceof b)return new b(this.applyTo(a._value));throw new Error("Cannot merge AddUnique Op with the previous Op")}},{key:"toJSON",value:function(){return{__op:"AddUnique",objects:(0,o["default"])(this._value,!1,!0)}}}]),b}(v);c.AddUniqueOp=A;var B=function(a){function b(a){f(this,b),g(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this._value=(0,u["default"])(Array.isArray(a)?a:[a])}return h(b,a),e(b,[{key:"applyTo",value:function(a){if(null==a)return[];if(Array.isArray(a)){for(var b=a.indexOf(this._value),c=a.concat([]),b=0;b<this._value.length;b++){for(var d=c.indexOf(this._value[b]);d>-1;)c.splice(d,1),d=c.indexOf(this._value[b]);if(this._value[b]instanceof q["default"]&&this._value[b].id)for(var e=0;e<c.length;e++)c[e]instanceof q["default"]&&this._value[b].id===c[e].id&&(c.splice(e,1),e--)}return c}throw new Error("Cannot remove elements from a non-array value")}},{key:"mergeWith",value:function(a){if(!a)return this;if(a instanceof w)return new w(this.applyTo(a._value));if(a instanceof x)return new x;if(a instanceof b){for(var c=a._value.concat([]),d=0;d<this._value.length;d++)this._value[d]instanceof q["default"]?(0,k["default"])(c,this._value[d])||c.push(this._value[d]):c.indexOf(this._value[d])<0&&c.push(this._value[d]);return new b(c)}throw new Error("Cannot merge Remove Op with the previous Op")}},{key:"toJSON",value:function(){return{__op:"Remove",objects:(0,o["default"])(this._value,!1,!0)}}}]),b}(v);c.RemoveOp=B;var C=function(a){function b(a,c){f(this,b),g(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this._targetClassName=null,Array.isArray(a)&&(this.relationsToAdd=(0,u["default"])(a.map(this._extractId,this))),Array.isArray(c)&&(this.relationsToRemove=(0,u["default"])(c.map(this._extractId,this)))}return h(b,a),e(b,[{key:"_extractId",value:function(a){if("string"==typeof a)return a;if(!a.id)throw new Error("You cannot add or remove an unsaved Parse Object from a relation");if(this._targetClassName||(this._targetClassName=a.className),this._targetClassName!==a.className)throw new Error("Tried to create a Relation with 2 different object types: "+this._targetClassName+" and "+a.className+".");return a.id}},{key:"applyTo",value:function(a,b,c){if(!a){var d=new q["default"](b.className);b.id&&0===b.id.indexOf("local")?d._localId=b.id:b.id&&(d.id=b.id);var e=new s["default"](d,c);return e.targetClassName=this._targetClassName,e}if(a instanceof s["default"]){if(this._targetClassName)if(a.targetClassName){if(this._targetClassName!==a.targetClassName)throw new Error("Related object must be a "+a.targetClassName+", but a "+this._targetClassName+" was passed in.")}else a.targetClassName=this._targetClassName;return a}throw new Error("Relation cannot be applied to a non-relation field")}},{key:"mergeWith",value:function(a){if(!a)return this;if(a instanceof x)throw new Error("You cannot modify a relation after deleting it.");if(a instanceof b){if(a._targetClassName&&a._targetClassName!==this._targetClassName)throw new Error("Related object must be of class "+a._targetClassName+", but "+(this._targetClassName||"null")+" was passed in.");var c=a.relationsToAdd.concat([]);this.relationsToRemove.forEach(function(a){var b=c.indexOf(a);b>-1&&c.splice(b,1)}),this.relationsToAdd.forEach(function(a){var b=c.indexOf(a);0>b&&c.push(a)});var d=a.relationsToRemove.concat([]);this.relationsToAdd.forEach(function(a){var b=d.indexOf(a);b>-1&&d.splice(b,1)}),this.relationsToRemove.forEach(function(a){var b=d.indexOf(a);0>b&&d.push(a)});var e=new b(c,d);return e._targetClassName=this._targetClassName,e}throw new Error("Cannot merge Relation Op with the previous Op")}},{key:"toJSON",value:function(){var a=this,b=function(b){return{__type:"Pointer",className:a._targetClassName,objectId:b}},c=null,d=null,e=null;return this.relationsToAdd.length>0&&(e=this.relationsToAdd.map(b),c={__op:"AddRelation",objects:e}),this.relationsToRemove.length>0&&(e=this.relationsToRemove.map(b),d={__op:"RemoveRelation",objects:e}),c&&d?{__op:"Batch",ops:[c,d]}:c||d||{}}}]),b}(v);c.RelationOp=C},{"./ParseObject":14,"./ParseRelation":18,"./arrayContainsObject":27,"./decode":29,"./encode":30,"./unique":35,"babel-runtime/helpers/class-call-check":43,"babel-runtime/helpers/create-class":44,"babel-runtime/helpers/get":45,"babel-runtime/helpers/inherits":46,"babel-runtime/helpers/interop-require-default":47}],16:[function(a,b,c){var d=a("babel-runtime/helpers/create-class")["default"],e=a("babel-runtime/helpers/class-call-check")["default"];Object.defineProperty(c,"__esModule",{value:!0});var f=!1,g=function(){function a(){e(this,a),this._resolved=!1,this._rejected=!1,this._resolvedCallbacks=[],this._rejectedCallbacks=[]}return d(a,[{key:"resolve",value:function(){if(this._resolved||this._rejected)throw new Error("A promise was resolved even though it had already been "+(this._resolved?"resolved":"rejected")+".");this._resolved=!0;for(var a=arguments.length,b=Array(a),c=0;a>c;c++)b[c]=arguments[c];this._result=b;for(var d=0;d<this._resolvedCallbacks.length;d++)this._resolvedCallbacks[d].apply(this,b);this._resolvedCallbacks=[],this._rejectedCallbacks=[]}},{key:"reject",value:function(a){if(this._resolved||this._rejected)throw new Error("A promise was resolved even though it had already been "+(this._resolved?"resolved":"rejected")+".");this._rejected=!0,this._error=a;for(var b=0;b<this._rejectedCallbacks.length;b++)this._rejectedCallbacks[b](a);this._resolvedCallbacks=[],this._rejectedCallbacks=[]}},{key:"then",value:function(b,c){var d=this,e=new a,f=function(){for(var c=arguments.length,d=Array(c),f=0;c>f;f++)d[f]=arguments[f];"function"==typeof b&&(d=[b.apply(this,d)]),1===d.length&&a.is(d[0])?d[0].then(function(){e.resolve.apply(e,arguments)},function(a){e.reject(a)}):e.resolve.apply(e,d)},g=function(b){var d=[];"function"==typeof c?(d=[c(b)],1===d.length&&a.is(d[0])?d[0].then(function(){e.resolve.apply(e,arguments)},function(a){e.reject(a)}):e.reject(d[0])):e.reject(b)},h=function(a){a.call()};return this._resolved?h(function(){f.apply(d,d._result)}):this._rejected?h(function(){g(d._error)}):(this._resolvedCallbacks.push(f),this._rejectedCallbacks.push(g)),e}},{key:"always",value:function(a){return this.then(a,a)}},{key:"done",value:function(a){return this.then(a)}},{key:"fail",value:function(a){return this.then(null,a)}},{key:"_thenRunCallbacks",value:function(b,c){var d={};return"function"==typeof b?(d.success=function(a){b(a,null)},d.error=function(a){b(null,a)}):"object"==typeof b&&("function"==typeof b.success&&(d.success=b.success),"function"==typeof b.error&&(d.error=b.error)),this.then(function(){for(var b=arguments.length,c=Array(b),e=0;b>e;e++)c[e]=arguments[e];return d.success&&d.success.apply(this,c),a.as.apply(a,arguments)},function(b){return d.error&&("undefined"!=typeof c?d.error(c,b):d.error(b)),a.error(b)})}},{key:"_continueWith",value:function(a){return this.then(function(){return a(arguments,null)},function(b){return a(null,b)})}}],[{key:"is",value:function(a){return"undefined"!=typeof a&&"function"==typeof a.then}},{key:"as",value:function(){for(var b=new a,c=arguments.length,d=Array(c),e=0;c>e;e++)d[e]=arguments[e];return b.resolve.apply(b,d),b}},{key:"error",value:function(){for(var b=new a,c=arguments.length,d=Array(c),e=0;c>e;e++)d[e]=arguments[e];return b.reject.apply(b,d),b}},{key:"when",value:function(b){var c;c=Array.isArray(b)?b:arguments;var d=c.length,e=!1,f=[],g=[];if(f.length=c.length,g.length=c.length,0===d)return a.as.apply(this,f);for(var h=new a,i=function(){d--,0>=d&&(e?h.reject(g):h.resolve.apply(h,f))},j=function(b,c){a.is(b)?b.then(function(a){f[c]=a,i()},function(a){g[c]=a,e=!0,i()}):(f[k]=b,i())},k=0;k<c.length;k++)j(c[k],k);return h}},{key:"_continueWhile",value:function(b,c){return b()?c().then(function(){return a._continueWhile(b,c)}):a.as()}},{key:"isPromisesAPlusCompliant",value:function(){return f}}]),a}();c["default"]=g,b.exports=c["default"]},{"babel-runtime/helpers/class-call-check":43,"babel-runtime/helpers/create-class":44}],17:[function(a,b,c){function d(a){return"\\Q"+a.replace("\\E","\\E\\\\E\\Q")+"\\E"}var e=a("babel-runtime/helpers/create-class")["default"],f=a("babel-runtime/helpers/class-call-check")["default"],g=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var h=a("./CoreManager"),i=g(h),j=a("./encode"),k=g(j),l=a("./ParseError"),m=g(l),n=a("./ParseGeoPoint"),o=g(n),p=a("./ParseObject"),q=g(p),r=a("./ParsePromise"),s=g(r),t=function(){function a(b){if(f(this,a),"string"==typeof b)"User"===b&&i["default"].get("PERFORM_USER_REWRITE")?this.className="_User":this.className=b;else if(b instanceof q["default"])this.className=b.className;else{if("function"!=typeof b)throw new TypeError("A ParseQuery must be constructed with a ParseObject or class name.");if("string"==typeof b.className)this.className=b.className;else{var c=new b;this.className=c.className}}this._where={},this._include=[],this._limit=-1,this._skip=0,this._extraOptions={}}return e(a,[{key:"_orQuery",value:function(a){var b=a.map(function(a){return a.toJSON().where});return this._where.$or=b,this}},{key:"_addCondition",value:function(a,b,c){return this._where[a]&&"string"!=typeof this._where[a]||(this._where[a]={}),this._where[a][b]=(0,k["default"])(c,!1,!0),this}},{key:"toJSON",value:function(){var a={where:this._where};this._include.length&&(a.include=this._include.join(",")),this._select&&(a.keys=this._select.join(",")),this._limit>=0&&(a.limit=this._limit),this._skip>0&&(a.skip=this._skip),this._order&&(a.order=this._order.join(","));for(var b in this._extraOptions)a[b]=this._extraOptions[b];return a}},{key:"get",value:function(a,b){this.equalTo("objectId",a);var c={};return b&&b.hasOwnProperty("useMasterKey")&&(c.useMasterKey=b.useMasterKey),b&&b.hasOwnProperty("sessionToken")&&(c.sessionToken=b.sessionToken),this.first(c).then(function(a){if(a)return a;var b=new m["default"](m["default"].OBJECT_NOT_FOUND,"Object not found.");return s["default"].error(b)})._thenRunCallbacks(b,null)}},{key:"find",value:function(a){var b=this;a=a||{};var c={};a.hasOwnProperty("useMasterKey")&&(c.useMasterKey=a.useMasterKey),a.hasOwnProperty("sessionToken")&&(c.sessionToken=a.sessionToken);var d=i["default"].getQueryController();return d.find(this.className,this.toJSON(),c).then(function(a){return a.results.map(function(a){return a.className=b.className,q["default"].fromJSON(a)})})._thenRunCallbacks(a)}},{key:"count",value:function(a){a=a||{};var b={};a.hasOwnProperty("useMasterKey")&&(b.useMasterKey=a.useMasterKey),a.hasOwnProperty("sessionToken")&&(b.sessionToken=a.sessionToken);var c=i["default"].getQueryController(),d=this.toJSON();return d.limit=0,d.count=1,c.find(this.className,d,b).then(function(a){return a.count})._thenRunCallbacks(a)}},{key:"first",value:function(a){var b=this;a=a||{};var c={};a.hasOwnProperty("useMasterKey")&&(c.useMasterKey=a.useMasterKey),a.hasOwnProperty("sessionToken")&&(c.sessionToken=a.sessionToken);var d=i["default"].getQueryController(),e=this.toJSON();return e.limit=1,d.find(this.className,e,c).then(function(a){var c=a.results;return c[0]?(c[0].className=b.className,q["default"].fromJSON(c[0])):void 0})._thenRunCallbacks(a)}},{key:"each",value:function(b,c){if(c=c||{},this._order||this._skip||this._limit>=0)return s["default"].error("Cannot iterate on a query with sort, skip, or limit.")._thenRunCallbacks(c);var d=(new s["default"],new a(this.className));d._limit=c.batchSize||100,d._include=this._include.map(function(a){return a}),this._select&&(d._select=this._select.map(function(a){return a})),d._where={};for(var e in this._where){var f=this._where[e];if(Array.isArray(f))d._where[e]=f.map(function(a){return a});else if(f&&"object"==typeof f){var g={};d._where[e]=g;for(var h in f)g[h]=f[h]}else d._where[e]=f}d.ascending("objectId");var i={};c.hasOwnProperty("useMasterKey")&&(i.useMasterKey=c.useMasterKey),c.hasOwnProperty("sessionToken")&&(i.sessionToken=c.sessionToken);var j=!1;return s["default"]._continueWhile(function(){return!j},function(){return d.find(i).then(function(a){var c=s["default"].as();return a.forEach(function(a){c=c.then(function(){return b(a)})}),c.then(function(){a.length>=d._limit?d.greaterThan("objectId",a[a.length-1].id):j=!0})})})._thenRunCallbacks(c)}},{key:"equalTo",value:function(a,b){return"undefined"==typeof b?this.doesNotExist(a):(this._where[a]=(0,k["default"])(b,!1,!0),this)}},{key:"notEqualTo",value:function(a,b){return this._addCondition(a,"$ne",b)}},{key:"lessThan",value:function(a,b){return this._addCondition(a,"$lt",b)}},{key:"greaterThan",value:function(a,b){return this._addCondition(a,"$gt",b)}},{key:"lessThanOrEqualTo",value:function(a,b){return this._addCondition(a,"$lte",b)}},{key:"greaterThanOrEqualTo",value:function(a,b){return this._addCondition(a,"$gte",b)}},{key:"containedIn",value:function(a,b){return this._addCondition(a,"$in",b)}},{key:"notContainedIn",value:function(a,b){return this._addCondition(a,"$nin",b)}},{key:"containsAll",value:function(a,b){return this._addCondition(a,"$all",b)}},{key:"exists",value:function(a){return this._addCondition(a,"$exists",!0)}},{key:"doesNotExist",value:function(a){return this._addCondition(a,"$exists",!1)}},{key:"matches",value:function(a,b,c){return this._addCondition(a,"$regex",b),c||(c=""),b.ignoreCase&&(c+="i"),b.multiline&&(c+="m"),c.length&&this._addCondition(a,"$options",c),this}},{key:"matchesQuery",value:function(a,b){var c=b.toJSON();return c.className=b.className,this._addCondition(a,"$inQuery",c)}},{key:"doesNotMatchQuery",value:function(a,b){var c=b.toJSON();return c.className=b.className,this._addCondition(a,"$notInQuery",c)}},{key:"matchesKeyInQuery",value:function(a,b,c){var d=c.toJSON();return d.className=c.className,this._addCondition(a,"$select",{key:b,query:d})}},{key:"doesNotMatchKeyInQuery",value:function(a,b,c){var d=c.toJSON();return d.className=c.className,this._addCondition(a,"$dontSelect",{key:b,query:d})}},{key:"contains",value:function(a,b){if("string"!=typeof b)throw new Error("The value being searched for must be a string.");return this._addCondition(a,"$regex",d(b))}},{key:"startsWith",value:function(a,b){if("string"!=typeof b)throw new Error("The value being searched for must be a string.");return this._addCondition(a,"$regex","^"+d(b))}},{key:"endsWith",value:function(a,b){if("string"!=typeof b)throw new Error("The value being searched for must be a string.");return this._addCondition(a,"$regex",d(b)+"$")}},{key:"near",value:function(a,b){return b instanceof o["default"]||(b=new o["default"](b)),this._addCondition(a,"$nearSphere",b)}},{key:"withinRadians",value:function(a,b,c){return this.near(a,b),this._addCondition(a,"$maxDistance",c)}},{key:"withinMiles",value:function(a,b,c){return this.withinRadians(a,b,c/3958.8)}},{key:"withinKilometers",value:function(a,b,c){return this.withinRadians(a,b,c/6371)}},{key:"withinGeoBox",value:function(a,b,c){return b instanceof o["default"]||(b=new o["default"](b)),c instanceof o["default"]||(c=new o["default"](c)),this._addCondition(a,"$within",{$box:[b,c]}),this}},{key:"ascending",value:function(){this._order=[];for(var a=arguments.length,b=Array(a),c=0;a>c;c++)b[c]=arguments[c];return this.addAscending.apply(this,b)}},{key:"addAscending",value:function(){var a=this;this._order||(this._order=[]);for(var b=arguments.length,c=Array(b),d=0;b>d;d++)c[d]=arguments[d];return c.forEach(function(b){Array.isArray(b)&&(b=b.join()),a._order=a._order.concat(b.replace(/\s/g,"").split(","))}),this}},{key:"descending",value:function(){this._order=[];for(var a=arguments.length,b=Array(a),c=0;a>c;c++)b[c]=arguments[c];return this.addDescending.apply(this,b)}},{key:"addDescending",value:function(){var a=this;this._order||(this._order=[]);for(var b=arguments.length,c=Array(b),d=0;b>d;d++)c[d]=arguments[d];return c.forEach(function(b){Array.isArray(b)&&(b=b.join()),a._order=a._order.concat(b.replace(/\s/g,"").split(",").map(function(a){return"-"+a}))}),this}},{key:"skip",value:function(a){if("number"!=typeof a||0>a)throw new Error("You can only skip by a positive number");return this._skip=a,this}},{key:"limit",value:function(a){if("number"!=typeof a)throw new Error("You can only set the limit to a numeric value");return this._limit=a,this}},{key:"include",value:function(){for(var a=this,b=arguments.length,c=Array(b),d=0;b>d;d++)c[d]=arguments[d];return c.forEach(function(b){Array.isArray(b)?a._include=a._include.concat(b):a._include.push(b)}),this}},{key:"select",value:function(){var a=this;this._select||(this._select=[]);for(var b=arguments.length,c=Array(b),d=0;b>d;d++)c[d]=arguments[d];return c.forEach(function(b){Array.isArray(b)?a._select=a._select.concat(b):a._select.push(b)}),this}}],[{key:"or",value:function(){for(var b=null,c=arguments.length,d=Array(c),e=0;c>e;e++)d[e]=arguments[e];d.forEach(function(a){if(b||(b=a.className),b!==a.className)throw new Error("All queries must be for the same class.")});var f=new a(b);return f._orQuery(d),f}}]),a}();c["default"]=t,i["default"].setQueryController({find:function(a,b,c){var d=i["default"].getRESTController();return d.request("GET","classes/"+a,b,c)}}),b.exports=c["default"]},{"./CoreManager":3,"./ParseError":10,"./ParseGeoPoint":12,"./ParseObject":14,"./ParsePromise":16,"./encode":30,"babel-runtime/helpers/class-call-check":43,"babel-runtime/helpers/create-class":44,"babel-runtime/helpers/interop-require-default":47}],18:[function(a,b,c){var d=a("babel-runtime/helpers/create-class")["default"],e=a("babel-runtime/helpers/class-call-check")["default"],f=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var g=a("./ParseOp"),h=a("./ParseObject"),i=(f(h),a("./ParseQuery")),j=f(i),k=function(){function a(b,c){e(this,a),this.parent=b,this.key=c,this.targetClassName=null}return d(a,[{key:"_ensureParentAndKey",value:function(a,b){if(this.key=this.key||b,this.key!==b)throw new Error("Internal Error. Relation retrieved from two different keys.");if(this.parent){if(this.parent.className!==a.className)throw new Error("Internal Error. Relation retrieved from two different Objects.");if(this.parent.id){if(this.parent.id!==a.id)throw new Error("Internal Error. Relation retrieved from two different Objects.")}else a.id&&(this.parent=a)}else this.parent=a}},{key:"add",value:function(a){Array.isArray(a)||(a=[a]);var b=new g.RelationOp(a,[]);return this.parent.set(this.key,b),this.targetClassName=b._targetClassName,this.parent}},{key:"remove",value:function(a){Array.isArray(a)||(a=[a]);var b=new g.RelationOp([],a);this.parent.set(this.key,b),this.targetClassName=b._targetClassName}},{key:"toJSON",value:function(){return{__type:"Relation",className:this.targetClassName}}},{key:"query",value:function b(){var b;return this.targetClassName?b=new j["default"](this.targetClassName):(b=new j["default"](this.parent.className),b._extraOptions.redirectClassNameForKey=this.key),b._addCondition("$relatedTo","object",{__type:"Pointer",className:this.parent.className,objectId:this.parent.id}),b._addCondition("$relatedTo","key",this.key),b}}]),a}();c["default"]=k,b.exports=c["default"]},{"./ParseObject":14,"./ParseOp":15,"./ParseQuery":17,"babel-runtime/helpers/class-call-check":43,"babel-runtime/helpers/create-class":44,"babel-runtime/helpers/interop-require-default":47}],19:[function(a,b,c){var d=a("babel-runtime/helpers/get")["default"],e=a("babel-runtime/helpers/inherits")["default"],f=a("babel-runtime/helpers/create-class")["default"],g=a("babel-runtime/helpers/class-call-check")["default"],h=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var i=a("./ParseACL"),j=h(i),k=a("./ParseError"),l=h(k),m=a("./ParseObject"),n=h(m),o=function(a){function b(a,c){g(this,b),d(Object.getPrototypeOf(b.prototype),"constructor",this).call(this,"_Role"),"string"==typeof a&&c instanceof j["default"]&&(this.setName(a),this.setACL(c))}return e(b,a),f(b,[{key:"getName",value:function(){return this.get("name")}},{key:"setName",value:function(a,b){return this.set("name",a,b)}},{key:"getUsers",value:function(){return this.relation("users")}},{key:"getRoles",value:function(){return this.relation("roles")}},{key:"validate",value:function(a,c){var e=d(Object.getPrototypeOf(b.prototype),"validate",this).call(this,a,c);if(e)return e;if("name"in a&&a.name!==this.getName()){var f=a.name;if(this.id&&this.id!==a.objectId)return new l["default"](l["default"].OTHER_CAUSE,"A role's name can only be set before it has been saved.");if("string"!=typeof f)return new l["default"](l["default"].OTHER_CAUSE,"A role's name must be a String.");if(!/^[0-9a-zA-Z\-_ ]+$/.test(f))return new l["default"](l["default"].OTHER_CAUSE,"A role's name can be only contain alphanumeric characters, _, -, and spaces.")}return!1}}]),b}(n["default"]);c["default"]=o,n["default"].registerSubclass("_Role",o),b.exports=c["default"]},{"./ParseACL":8,"./ParseError":10,"./ParseObject":14,"babel-runtime/helpers/class-call-check":43,"babel-runtime/helpers/create-class":44,"babel-runtime/helpers/get":45,"babel-runtime/helpers/inherits":46,"babel-runtime/helpers/interop-require-default":47}],20:[function(a,b,c){var d=a("babel-runtime/helpers/get")["default"],e=a("babel-runtime/helpers/inherits")["default"],f=a("babel-runtime/helpers/create-class")["default"],g=a("babel-runtime/helpers/class-call-check")["default"],h=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var i=a("./CoreManager"),j=h(i),k=a("./isRevocableSession"),l=h(k),m=a("./ParseObject"),n=h(m),o=a("./ParsePromise"),p=h(o),q=a("./ParseUser"),r=h(q),s=function(a){function b(a){if(g(this,b),d(Object.getPrototypeOf(b.prototype),"constructor",this).call(this,"_Session"),a&&"object"==typeof a&&!this.set(a||{}))throw new Error("Can't create an invalid Session")}return e(b,a),f(b,[{key:"getSessionToken",value:function(){return this.get("sessionToken")}}],[{key:"readOnlyAttributes",value:function(){return["createdWith","expiresAt","installationId","restricted","sessionToken","user"]}},{key:"current",value:function(a){a=a||{};var b=j["default"].getSessionController(),c={};return a.hasOwnProperty("useMasterKey")&&(c.useMasterKey=a.useMasterKey),r["default"].currentAsync().then(function(a){return a?(a.getSessionToken(),c.sessionToken=a.getSessionToken(),b.getSession(c)):p["default"].error("There is no current user.")})}},{key:"isCurrentSessionRevocable",value:function(){var a=r["default"].current();return a?(0,l["default"])(a.getSessionToken()||""):!1}}]),b}(n["default"]);c["default"]=s,n["default"].registerSubclass("_Session",s),j["default"].setSessionController({getSession:function(a){var b=j["default"].getRESTController(),c=new s;return b.request("GET","sessions/me",{},a).then(function(a){return c._finishFetch(a),c._setExisted(!0),c})}}),b.exports=c["default"]},{"./CoreManager":3,"./ParseObject":14,"./ParsePromise":16,"./ParseUser":21,"./isRevocableSession":33,"babel-runtime/helpers/class-call-check":43,"babel-runtime/helpers/create-class":44,"babel-runtime/helpers/get":45,"babel-runtime/helpers/inherits":46,"babel-runtime/helpers/interop-require-default":47}],21:[function(a,b,c){var d=a("babel-runtime/helpers/get")["default"],e=a("babel-runtime/helpers/inherits")["default"],f=a("babel-runtime/helpers/create-class")["default"],g=a("babel-runtime/helpers/class-call-check")["default"],h=a("babel-runtime/core-js/object/define-property")["default"],i=a("babel-runtime/helpers/interop-require-default")["default"],j=a("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(c,"__esModule",{value:!0});var k=a("./CoreManager"),l=i(k),m=a("./isRevocableSession"),n=i(m),o=a("./ObjectState"),p=j(o),q=a("./ParseError"),r=i(q),s=a("./ParseObject"),t=i(s),u=a("./ParsePromise"),v=i(u),w=a("./ParseSession"),x=i(w),y=a("./Storage"),z=i(y),A="currentUser",B=!l["default"].get("IS_NODE"),C=!1,D=null,E={},F=function(a){function b(a){if(g(this,b),d(Object.getPrototypeOf(b.prototype),"constructor",this).call(this,"_User"),a&&"object"==typeof a&&!this.set(a||{}))throw new Error("Can't create an invalid Parse User")}return e(b,a),f(b,[{key:"_upgradeToRevocableSession",value:function(a){a=a||{};var b={};a.hasOwnProperty("useMasterKey")&&(b.useMasterKey=a.useMasterKey);var c=l["default"].getUserController();return c.upgradeToRevocableSession(this,b)._thenRunCallbacks(a)}},{key:"_linkWith",value:function(a,b){var c,d=this;if("string"==typeof a?(c=a,a=E[a]):c=a.getAuthType(),b&&b.hasOwnProperty("authData")){var e=this.get("authData")||{};e[c]=b.authData;var f=l["default"].getUserController();return f.linkWith(this,e)._thenRunCallbacks(b,this)}var g=new v["default"];return a.authenticate({success:function(a,c){var e={};e.authData=c,b.success&&(e.success=b.success),b.error&&(e.error=b.error),d._linkWith(a,e).then(function(){g.resolve(d)},function(a){g.reject(a)})},error:function(a,c){b.error&&b.error(d,c),g.reject(c)}}),g}},{key:"_synchronizeAuthData",value:function(a){if(this.isCurrent()&&a){var b;"string"==typeof a?(b=a,a=E[b]):b=a.getAuthType();var c=this.get("authData");if(a&&"object"==typeof c){var d=a.restoreAuthentication(c[b]);d||this._unlinkFrom(a)}}}},{key:"_synchronizeAllAuthData",value:function(){var a=this.get("authData");if("object"==typeof a)for(var b in a)this._synchronizeAuthData(b)}},{key:"_cleanupAuthData",value:function(){if(this.isCurrent()){var a=this.get("authData");if("object"==typeof a)for(var b in a)a[b]||delete a[b]}}},{key:"_unlinkFrom",value:function(a,b){var c,d=this;return"string"==typeof a?(c=a,a=E[a]):c=a.getAuthType(),this._linkWith(a,{authData:null}).then(function(){return d._synchronizeAuthData(a),v["default"].as(d)})._thenRunCallbacks(b)}},{key:"_isLinked",value:function(a){var b;b="string"==typeof a?a:a.getAuthType();var c=this.get("authData")||{};return!!c[b]}},{key:"_logOutWithAll",value:function(){var a=this.get("authData");if("object"==typeof a)for(var b in a)this._logOutWith(b)}},{key:"_logOutWith",value:function(a){this.isCurrent()&&("string"==typeof a&&(a=E[a]),a&&a.deauthenticate&&a.deauthenticate())}},{key:"isCurrent",value:function(){var a=b.current();return!!a&&a.id===this.id}},{key:"getUsername",value:function(){return this.get("username")}},{key:"setUsername",value:function(a){this.set("username",a)}},{key:"setPassword",value:function(a){this.set("password",a)}},{key:"getEmail",value:function(){return this.get("email")}},{key:"setEmail",value:function(a){this.set("email",a)}},{key:"getSessionToken",value:function(){return this.get("sessionToken")}},{key:"authenticated",value:function(){var a=b.current();return!!this.get("sessionToken")&&!!a&&a.id===this.id}},{key:"signUp",value:function(a,b){b=b||{};var c={};b.hasOwnProperty("useMasterKey")&&(c.useMasterKey=b.useMasterKey);var d=l["default"].getUserController();return d.signUp(this,a,c)._thenRunCallbacks(b,this)}},{key:"logIn",value:function(a){a=a||{};var b={};a.hasOwnProperty("useMasterKey")&&(b.useMasterKey=a.useMasterKey);var c=l["default"].getUserController();return c.logIn(this,b)._thenRunCallbacks(a,this)}}],[{key:"readOnlyAttributes",value:function(){return["sessionToken"]}},{key:"extend",value:function(a,c){if(a)for(var d in a)"className"!==d&&h(b.prototype,d,{value:a[d],enumerable:!1,writable:!0,configurable:!0});if(c)for(var d in c)"className"!==d&&h(b,d,{value:c[d],enumerable:!1,writable:!0,configurable:!0});return b}},{key:"current",value:function(){if(!B)return null;var a=l["default"].getUserController();return a.currentUser()}},{key:"currentAsync",value:function(){if(!B)return v["default"].as(null);var a=l["default"].getUserController();return a.currentUserAsync()}},{key:"signUp",value:function(a,c,d,e){d=d||{},d.username=a,d.password=c;var f=new b(d);return f.signUp({},e)}},{key:"logIn",value:function(a,c,d){var e=new b;return e._finishFetch({username:a,password:c}),e.logIn(d)}},{key:"become",value:function(a,b){if(!B)throw new Error("It is not memory-safe to become a user in a server environment");b=b||{};var c={sessionToken:a};b.hasOwnProperty("useMasterKey")&&(c.useMasterKey=b.useMasterKey);var d=l["default"].getUserController();return d.become(c)._thenRunCallbacks(b)}},{key:"logInWith",value:function(a,c){return b._logInWith(a,c)}},{key:"logOut",value:function(){if(!B)throw new Error("There is no current user user on a node.js server environment.");var a=l["default"].getUserController();return a.logOut()}},{key:"requestPasswordReset",value:function(a,b){b=b||{};var c={};b.hasOwnProperty("useMasterKey")&&(c.useMasterKey=b.useMasterKey);var d=l["default"].getUserController();return d.requestPasswordReset(a,c)._thenRunCallbacks(b)}},{key:"allowCustomUserClass",value:function(a){l["default"].set("PERFORM_USER_REWRITE",!a)}},{key:"enableRevocableSession",value:function(a){if(a=a||{},l["default"].set("FORCE_REVOCABLE_SESSION",!0),B){var c=b.current();if(c)return c._upgradeToRevocableSession(a)}return v["default"].as()._thenRunCallbacks(a)}},{key:"enableUnsafeCurrentUser",value:function(){B=!0}},{key:"disableUnsafeCurrentUser",value:function(){B=!1}},{key:"_registerAuthenticationProvider",value:function(a){E[a.getAuthType()]=a;var c=b.current();c&&c._synchronizeAuthData(a.getAuthType())}},{key:"_logInWith",value:function(a,c){var d=new b;return d._linkWith(a,c)}},{key:"_clearCache",value:function(){D=null,C=!1}},{key:"_setCurrentUserCache",value:function(a){D=a}}]),b}(t["default"]);c["default"]=F,t["default"].registerSubclass("_User",F);var G={setCurrentUser:function(a){D=a,a._cleanupAuthData(),a._synchronizeAllAuthData();var b=z["default"].generatePath(A),c=a.toJSON();
return c.className="_User",z["default"].setItemAsync(b,JSON.stringify(c)).then(function(){return a})},currentUser:function(){if(D)return D;if(C)return null;if(z["default"].async())throw new Error("Cannot call currentUser() when using a platform with an async storage system. Call currentUserAsync() instead.");var a=z["default"].generatePath(A),b=z["default"].getItem(a);if(C=!0,!b)return D=null,null;b=JSON.parse(b),b.className||(b.className="_User"),b._id&&(b.objectId!==b._id&&(b.objectId=b._id),delete b._id),b._sessionToken&&(b.sessionToken=b._sessionToken,delete b._sessionToken);var c=F.fromJSON(b);return D=c,c._synchronizeAllAuthData(),c},currentUserAsync:function(){if(D)return v["default"].as(D);if(C)return v["default"].as(null);var a=z["default"].generatePath(A);return z["default"].getItemAsync(a).then(function(a){if(C=!0,!a)return D=null,v["default"].as(null);a=JSON.parse(a),a.className||(a.className="_User"),a._id&&(a.objectId!==a._id&&(a.objectId=a._id),delete a._id),a._sessionToken&&(a.sessionToken=a._sessionToken,delete a._sessionToken);var b=F.fromJSON(a);return D=b,b._synchronizeAllAuthData(),v["default"].as(b)})},signUp:function(a,b,c){var d=b&&b.username||a.get("username"),e=b&&b.password||a.get("password");return d&&d.length?e&&e.length?a.save(b,c).then(function(){return a._finishFetch({password:void 0}),B?G.setCurrentUser(a):a}):v["default"].error(new r["default"](r["default"].OTHER_CAUSE,"Cannot sign up user with an empty password.")):v["default"].error(new r["default"](r["default"].OTHER_CAUSE,"Cannot sign up user with an empty name."))},logIn:function(a,b){var c=l["default"].getRESTController(),d={username:a.get("username"),password:a.get("password")};return c.request("GET","login",d,b).then(function(b,c){return a._migrateId(b.objectId),a._setExisted(!0),p.setPendingOp(a.className,a._getId(),"username",void 0),p.setPendingOp(a.className,a._getId(),"password",void 0),b.password=void 0,a._finishFetch(b),B?G.setCurrentUser(a):v["default"].as(a)})},become:function(a){var b=new F,c=l["default"].getRESTController();return c.request("GET","users/me",{},a).then(function(a,c){return b._finishFetch(a),b._setExisted(!0),G.setCurrentUser(b)})},logOut:function(){return G.currentUserAsync().then(function(a){var b=z["default"].generatePath(A),c=z["default"].removeItemAsync(b),d=l["default"].getRESTController();if(null!==a){var e=a.getSessionToken();e&&(0,n["default"])(e)&&c.then(function(){return d.request("POST","logout",{},{sessionToken:e})}),a._logOutWithAll(),a._finishFetch({sessionToken:void 0})}return C=!0,D=null,c})},requestPasswordReset:function(a,b){var c=l["default"].getRESTController();return c.request("POST","requestPasswordReset",{email:a},b)},upgradeToRevocableSession:function(a,b){var c=a.getSessionToken();if(!c)return v["default"].error(new r["default"](r["default"].SESSION_MISSING,"Cannot upgrade a user with no session token"));b.sessionToken=c;var d=l["default"].getRESTController();return d.request("POST","upgradeToRevocableSession",{},b).then(function(b){var c=new x["default"];return c._finishFetch(b),a._finishFetch({sessionToken:c.getSessionToken()}),a.isCurrent()?G.setCurrentUser(a):v["default"].as(a)})},linkWith:function(a,b){return a.save({authData:b}).then(function(){return B?G.setCurrentUser(a):a})}};l["default"].setUserController(G),b.exports=c["default"]},{"./CoreManager":3,"./ObjectState":6,"./ParseError":10,"./ParseObject":14,"./ParsePromise":16,"./ParseSession":20,"./Storage":24,"./isRevocableSession":33,"babel-runtime/core-js/object/define-property":38,"babel-runtime/helpers/class-call-check":43,"babel-runtime/helpers/create-class":44,"babel-runtime/helpers/get":45,"babel-runtime/helpers/inherits":46,"babel-runtime/helpers/interop-require-default":47,"babel-runtime/helpers/interop-require-wildcard":48}],22:[function(a,b,c){function d(a,b){if(b=b||{},a.where&&a.where instanceof i["default"]&&(a.where=a.where.toJSON().where),a.push_time&&"object"==typeof a.push_time&&(a.push_time=a.push_time.toJSON()),a.expiration_time&&"object"==typeof a.expiration_time&&(a.expiration_time=a.expiration_time.toJSON()),a.expiration_time&&a.expiration_interval)throw new Error("expiration_time and expiration_interval cannot both be set.");return g["default"].getPushController().send(a,{useMasterKey:b.useMasterKey})._thenRunCallbacks(b)}var e=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c.send=d;var f=a("./CoreManager"),g=e(f),h=a("./ParseQuery"),i=e(h);g["default"].setPushController({send:function(a,b){var c=g["default"].getRESTController(),d=c.request("POST","push",a,{useMasterKey:!!b.useMasterKey});return d._thenRunCallbacks(b)}})},{"./CoreManager":3,"./ParseQuery":17,"babel-runtime/helpers/interop-require-default":47}],23:[function(a,b,c){(function(d){function e(a,b,c){var d=new l["default"],e=new XDomainRequest;return e.onload=function(){var a;try{a=JSON.parse(e.responseText)}catch(b){d.reject(b)}d.resolve(a)},e.onerror=e.ontimeout=function(){var a={responseText:JSON.stringify({code:j["default"].X_DOMAIN_REQUEST,error:"IE's XDomainRequest does not supply error info."})};d.reject(a)},e.onprogress=function(){},e.open(a,b),e.send(c),d}var f=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var g=a("./CoreManager"),h=f(g),i=a("./ParseError"),j=f(i),k=a("./ParsePromise"),l=f(k),m=a("./Storage"),n=(f(m),null);"undefined"!=typeof XMLHttpRequest&&(n=XMLHttpRequest);var o=!1;"undefined"==typeof XDomainRequest||"withCredentials"in new XMLHttpRequest||(o=!0);var p={ajax:function(a,b,c,f){if(o)return e(a,b,c,f);var g=new l["default"],i=0,j=function k(){if(null==n)throw new Error("Cannot make a request: No definition of XMLHttpRequest was found.");var e=!1,j=new n;j.onreadystatechange=function(){if(4===j.readyState&&!e)if(e=!0,j.status>=200&&j.status<300){var a;try{a=JSON.parse(j.responseText)}catch(b){g.reject(b)}g.resolve(a,j.status,j)}else if(j.status>=500)if(++i<h["default"].get("REQUEST_ATTEMPT_LIMIT")){var c=Math.round(125*Math.random()*Math.pow(2,i));setTimeout(k,c)}else g.reject(j);else g.reject(j)},f=f||{},f["Content-Type"]="text/plain",h["default"].get("IS_NODE")&&(f["User-Agent"]="Parse/"+h["default"].get("VERSION")+" (NodeJS "+d.versions.node+")"),j.open(a,b,!0);for(var l in f)j.setRequestHeader(l,f[l]);j.send(c)};return j(),g},request:function(a,b,c,d){d=d||{};var e=h["default"].get("SERVER_URL");e+="/1/"+b;var f={};if(c&&"object"==typeof c)for(var g in c)f[g]=c[g];"POST"!==a&&(f._method=a,a="POST"),f._ApplicationId=h["default"].get("APPLICATION_ID"),f._JavaScriptKey=h["default"].get("JAVASCRIPT_KEY"),f._ClientVersion="js"+h["default"].get("VERSION");var i=d.useMasterKey;if("undefined"==typeof i&&(i=h["default"].get("USE_MASTER_KEY")),i){if(!h["default"].get("MASTER_KEY"))throw new Error("Cannot use the Master Key, it has not been provided.");delete f._JavaScriptKey,f._MasterKey=h["default"].get("MASTER_KEY")}h["default"].get("FORCE_REVOCABLE_SESSION")&&(f._RevocableSession="1");var k=h["default"].getInstallationController();return k.currentInstallationId().then(function(a){f._InstallationId=a;var b=h["default"].getUserController();return d&&"string"==typeof d.sessionToken?l["default"].as(d.sessionToken):b?b.currentUserAsync().then(function(a){return a?l["default"].as(a.getSessionToken()):l["default"].as(null)}):l["default"].as(null)}).then(function(b){b&&(f._SessionToken=b);var c=JSON.stringify(f);return p.ajax(a,e,c)}).then(null,function(a){var b;if(a&&a.responseText)try{var c=JSON.parse(a.responseText);b=new j["default"](c.code,c.error)}catch(d){b=new j["default"](j["default"].INVALID_JSON,"Received an error with invalid JSON from Parse: "+a.responseText)}else b=new j["default"](j["default"].CONNECTION_FAILED,"XMLHttpRequest failed: "+JSON.stringify(a));return l["default"].error(b)})},_setXHR:function(a){n=a}};b.exports=p}).call(this,a("_process"))},{"./CoreManager":3,"./ParseError":10,"./ParsePromise":16,"./Storage":24,_process:49,"babel-runtime/helpers/interop-require-default":47}],24:[function(a,b,c){var d=a("babel-runtime/helpers/interop-require-default")["default"],e=a("./CoreManager"),f=d(e),g=a("./ParsePromise"),h=d(g);b.exports={async:function(){var a=f["default"].getStorageController();return!!a.async},getItem:function(a){var b=f["default"].getStorageController();if(1===b.async)throw new Error("Synchronous storage is not supported by the current storage controller");return b.getItem(a)},getItemAsync:function(a){var b=f["default"].getStorageController();return 1===b.async?b.getItemAsync(a):h["default"].as(b.getItem(a))},setItem:function(a,b){var c=f["default"].getStorageController();if(1===c.async)throw new Error("Synchronous storage is not supported by the current storage controller");return c.setItem(a,b)},setItemAsync:function(a,b){var c=f["default"].getStorageController();return 1===c.async?c.setItemAsync(a,b):h["default"].as(c.setItem(a,b))},removeItem:function(a){var b=f["default"].getStorageController();if(1===b.async)throw new Error("Synchronous storage is not supported by the current storage controller");return b.removeItem(a)},removeItemAsync:function(a){var b=f["default"].getStorageController();return 1===b.async?b.removeItemAsync(a):h["default"].as(b.removeItem(a))},generatePath:function(a){if(!f["default"].get("APPLICATION_ID"))throw new Error("You need to call Parse.initialize before using Parse.");if("string"!=typeof a)throw new Error("Tried to get a Storage path that was not a String.");return"/"===a[0]&&(a=a.substr(1)),"Parse/"+f["default"].get("APPLICATION_ID")+"/"+a},_clear:function(){var a=f["default"].getStorageController();a.hasOwnProperty("clear")&&a.clear()}},f["default"].setStorageController(a("./StorageController.browser"))},{"./CoreManager":3,"./ParsePromise":16,"./StorageController.browser":25,"babel-runtime/helpers/interop-require-default":47}],25:[function(a,b,c){var d=a("babel-runtime/helpers/interop-require-default")["default"],e=a("./ParsePromise");d(e),b.exports={async:0,getItem:function(a){return localStorage.getItem(a)},setItem:function(a,b){localStorage.setItem(a,b)},removeItem:function(a){localStorage.removeItem(a)},clear:function(){localStorage.clear()}}},{"./ParsePromise":16,"babel-runtime/helpers/interop-require-default":47}],26:[function(a,b,c){var d=a("babel-runtime/helpers/create-class")["default"],e=a("babel-runtime/helpers/class-call-check")["default"],f=a("babel-runtime/helpers/interop-require-default")["default"],g=a("./ParsePromise"),h=f(g);b.exports=function(){function a(){e(this,a),this.queue=[]}return d(a,[{key:"enqueue",value:function(a){var b=this,c=new h["default"];return this.queue.push({task:a,_completion:c}),1===this.queue.length&&a().then(function(){b._dequeue(),c.resolve()},function(a){b._dequeue(),c.reject(a)}),c}},{key:"_dequeue",value:function(){var a=this;if(this.queue.shift(),this.queue.length){var b=this.queue[0];b.task().then(function(){a._dequeue(),b._completion.resolve()},function(c){a._dequeue(),b._completion.reject(c)})}}}]),a}()},{"./ParsePromise":16,"babel-runtime/helpers/class-call-check":43,"babel-runtime/helpers/create-class":44,"babel-runtime/helpers/interop-require-default":47}],27:[function(a,b,c){function d(a,b){if(a.indexOf(b)>-1)return!0;for(var c=0;c<a.length;c++)if(a[c]instanceof g["default"]&&a[c].className===b.className&&a[c]._getId()===b._getId())return!0;return!1}var e=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var f=a("./ParseObject"),g=e(f);b.exports=c["default"]},{"./ParseObject":14,"babel-runtime/helpers/interop-require-default":47}],28:[function(a,b,c){function d(a){if(!(a instanceof j["default"]))return!0;var b=a.attributes;for(var c in b){var d=b[c];if(!e(d))return!1}return!0}function e(a){if("object"!=typeof a)return!0;if(a instanceof l["default"])return!0;if(a instanceof j["default"])return!!a.id;if(a instanceof h["default"])return a.url()?!0:!1;if(Array.isArray(a)){for(var b=0;b<a.length;b++)if(!e(a[b]))return!1;return!0}for(var c in a)if(!e(a[c]))return!1;return!0}var f=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var g=a("./ParseFile"),h=f(g),i=a("./ParseObject"),j=f(i),k=a("./ParseRelation"),l=f(k);b.exports=c["default"]},{"./ParseFile":11,"./ParseObject":14,"./ParseRelation":18,"babel-runtime/helpers/interop-require-default":47}],29:[function(a,b,c){function d(a){if(null===a||"object"!=typeof a)return a;if(Array.isArray(a)){var b=[];return a.forEach(function(a,c){b[c]=d(a)}),b}if("string"==typeof a.__op)return(0,m.opFromJSON)(a);if("Pointer"===a.__type&&a.className)return l["default"].fromJSON(a);if("Object"===a.__type&&a.className)return l["default"].fromJSON(a);if("Relation"===a.__type){var c=new o["default"](null,null);return c.targetClassName=a.className,c}if("Date"===a.__type)return new Date(a.iso);if("File"===a.__type)return h["default"].fromJSON(a);if("GeoPoint"===a.__type)return new j["default"]({latitude:a.latitude,longitude:a.longitude});var e={};for(var f in a)e[f]=d(a[f]);return e}var e=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var f=a("./ParseACL"),g=(e(f),a("./ParseFile")),h=e(g),i=a("./ParseGeoPoint"),j=e(i),k=a("./ParseObject"),l=e(k),m=a("./ParseOp"),n=a("./ParseRelation"),o=e(n);b.exports=c["default"]},{"./ParseACL":8,"./ParseFile":11,"./ParseGeoPoint":12,"./ParseObject":14,"./ParseOp":15,"./ParseRelation":18,"babel-runtime/helpers/interop-require-default":47}],30:[function(a,b,c){function d(a,b,c,f){if(a instanceof n["default"]){if(b)throw new Error("Parse Objects not allowed here");var g=a.id?a.className+":"+a.id:a;if(c||!f||f.indexOf(g)>-1||a.dirty()||e(a._getServerData()).length<1)return a.toPointer();f=f.concat(g);var i=d(a.attributes,b,c,f);return i.createdAt&&(i.createdAt=i.createdAt.iso),i.updatedAt&&(i.updatedAt=i.updatedAt.iso),i.className=a.className,i.__type="Object",a.id&&(i.objectId=a.id),i}if(a instanceof o.Op||a instanceof h["default"]||a instanceof l["default"]||a instanceof q["default"])return a.toJSON();if(a instanceof j["default"]){if(!a.url())throw new Error("Tried to encode an unsaved file.");return a.toJSON()}if("[object Date]"===r.call(a)){if(isNaN(a))throw new Error("Tried to encode an invalid date.");return{__type:"Date",iso:a.toJSON()}}if("[object RegExp]"===r.call(a)&&"string"==typeof a.source)return a.source;if(Array.isArray(a))return a.map(function(a){return d(a,b,c,f)});if(a&&"object"==typeof a){var k={};for(var m in a)k[m]=d(a[m],b,c,f);return k}return a}var e=a("babel-runtime/core-js/object/keys")["default"],f=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var g=a("./ParseACL"),h=f(g),i=a("./ParseFile"),j=f(i),k=a("./ParseGeoPoint"),l=f(k),m=a("./ParseObject"),n=f(m),o=a("./ParseOp"),p=a("./ParseRelation"),q=f(p),r=Object.prototype.toString;c["default"]=function(a,b,c,e){return d(a,!!b,!!c,e||[])},b.exports=c["default"]},{"./ParseACL":8,"./ParseFile":11,"./ParseGeoPoint":12,"./ParseObject":14,"./ParseOp":15,"./ParseRelation":18,"babel-runtime/core-js/object/keys":41,"babel-runtime/helpers/interop-require-default":47}],31:[function(a,b,c){function d(a,b){if(typeof a!=typeof b)return!1;if(!a||"object"!=typeof a)return a===b;if(Array.isArray(a)||Array.isArray(b)){if(!Array.isArray(a)||!Array.isArray(b))return!1;if(a.length!==b.length)return!1;for(var c=a.length;c--;)if(!d(a[c],b[c]))return!1;return!0}if(a instanceof h["default"]||a instanceof j["default"]||a instanceof l["default"]||a instanceof n["default"])return a.equals(b);if(e(a).length!==e(b).length)return!1;for(var f in a)if(!d(a[f],b[f]))return!1;return!0}var e=a("babel-runtime/core-js/object/keys")["default"],f=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var g=a("./ParseACL"),h=f(g),i=a("./ParseFile"),j=f(i),k=a("./ParseGeoPoint"),l=f(k),m=a("./ParseObject"),n=f(m);b.exports=c["default"]},{"./ParseACL":8,"./ParseFile":11,"./ParseGeoPoint":12,"./ParseObject":14,"babel-runtime/core-js/object/keys":41,"babel-runtime/helpers/interop-require-default":47}],32:[function(a,b,c){function d(a){return a.replace(/[&<>\/'"]/g,function(a){return{"&":"&amp;","<":"&lt;",">":"&gt;","/":"&#x2F;","'":"&#x27;",'"':"&quot;"}[a]})}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d,b.exports=c["default"]},{}],33:[function(a,b,c){function d(a){return a.indexOf("r:")>-1}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d,b.exports=c["default"]},{}],34:[function(a,b,c){function d(a){var b=new RegExp("^([0-9]{1,4})-([0-9]{1,2})-([0-9]{1,2})T([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2})(.([0-9]+))?Z$"),c=b.exec(a);if(!c)return null;var d=c[1]||0,e=(c[2]||1)-1,f=c[3]||0,g=c[4]||0,h=c[5]||0,i=c[6]||0,j=c[8]||0;return new Date(Date.UTC(d,e,f,g,h,i,j))}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d,b.exports=c["default"]},{}],35:[function(a,b,c){function d(a){var b=[];return a.forEach(function(a){a instanceof i["default"]?(0,g["default"])(b,a)||b.push(a):b.indexOf(a)<0&&b.push(a)}),b}var e=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var f=a("./arrayContainsObject"),g=e(f),h=a("./ParseObject"),i=e(h);b.exports=c["default"]},{"./ParseObject":14,"./arrayContainsObject":27,"babel-runtime/helpers/interop-require-default":47}],36:[function(a,b,c){function d(a,b){var c={objects:{},files:[]},d=a.className+":"+a._getId();c.objects[d]=a.dirty()?a:!0;var f=a.attributes;for(var g in f)"object"==typeof f[g]&&e(f[g],c,!1,!!b);var h=[];for(var i in c.objects)i!==d&&c.objects[i]!==!0&&h.push(c.objects[i]);return h.concat(c.files)}function e(a,b,c,d){if(a instanceof j["default"]){if(!a.id&&c)throw new Error("Cannot create a pointer to an unsaved Object.");var f=a.className+":"+a._getId();if(!b.objects[f]){b.objects[f]=a.dirty()?a:!0;var g=a.attributes;for(var i in g)"object"==typeof g[i]&&e(g[i],b,!d,d)}}else{if(a instanceof h["default"])return void(!a.url()&&b.files.indexOf(a)<0&&b.files.push(a));if(!(a instanceof l["default"])){Array.isArray(a)&&a.forEach(function(a){e(a,b,c,d)});for(var k in a)"object"==typeof a[k]&&e(a[k],b,c,d)}}}var f=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var g=a("./ParseFile"),h=f(g),i=a("./ParseObject"),j=f(i),k=a("./ParseRelation"),l=f(k);b.exports=c["default"]},{"./ParseFile":11,"./ParseObject":14,"./ParseRelation":18,"babel-runtime/helpers/interop-require-default":47}],37:[function(a,b,c){b.exports={"default":a("core-js/library/fn/object/create"),__esModule:!0}},{"core-js/library/fn/object/create":50}],38:[function(a,b,c){b.exports={"default":a("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":51}],39:[function(a,b,c){b.exports={"default":a("core-js/library/fn/object/freeze"),__esModule:!0}},{"core-js/library/fn/object/freeze":52}],40:[function(a,b,c){b.exports={"default":a("core-js/library/fn/object/get-own-property-descriptor"),__esModule:!0}},{"core-js/library/fn/object/get-own-property-descriptor":53}],41:[function(a,b,c){b.exports={"default":a("core-js/library/fn/object/keys"),__esModule:!0}},{"core-js/library/fn/object/keys":54}],42:[function(a,b,c){b.exports={"default":a("core-js/library/fn/object/set-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/set-prototype-of":55}],43:[function(a,b,c){c["default"]=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")},c.__esModule=!0},{}],44:[function(a,b,c){var d=a("babel-runtime/core-js/object/define-property")["default"];c["default"]=function(){function a(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),d(a,e.key,e)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),c.__esModule=!0},{"babel-runtime/core-js/object/define-property":38}],45:[function(a,b,c){var d=a("babel-runtime/core-js/object/get-own-property-descriptor")["default"];c["default"]=function(a,b,c){for(var e=!0;e;){var f=a,g=b,h=c;i=k=j=void 0,e=!1,null===f&&(f=Function.prototype);var i=d(f,g);if(void 0!==i){if("value"in i)return i.value;var j=i.get;return void 0===j?void 0:j.call(h)}var k=Object.getPrototypeOf(f);if(null===k)return;a=k,b=g,c=h,e=!0}},c.__esModule=!0},{"babel-runtime/core-js/object/get-own-property-descriptor":40}],46:[function(a,b,c){var d=a("babel-runtime/core-js/object/create")["default"],e=a("babel-runtime/core-js/object/set-prototype-of")["default"];c["default"]=function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=d(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(e?e(a,b):a.__proto__=b)},c.__esModule=!0},{"babel-runtime/core-js/object/create":37,"babel-runtime/core-js/object/set-prototype-of":42}],47:[function(a,b,c){c["default"]=function(a){return a&&a.__esModule?a:{"default":a}},c.__esModule=!0},{}],48:[function(a,b,c){c["default"]=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b},c.__esModule=!0},{}],49:[function(a,b,c){},{}],50:[function(a,b,c){var d=a("../../modules/$");b.exports=function(a,b){return d.create(a,b)}},{"../../modules/$":67}],51:[function(a,b,c){var d=a("../../modules/$");b.exports=function(a,b,c){return d.setDesc(a,b,c)}},{"../../modules/$":67}],52:[function(a,b,c){a("../../modules/es6.object.freeze"),b.exports=a("../../modules/$.core").Object.freeze},{"../../modules/$.core":59,"../../modules/es6.object.freeze":72}],53:[function(a,b,c){var d=a("../../modules/$");a("../../modules/es6.object.get-own-property-descriptor"),b.exports=function(a,b){return d.getDesc(a,b)}},{"../../modules/$":67,"../../modules/es6.object.get-own-property-descriptor":73}],54:[function(a,b,c){a("../../modules/es6.object.keys"),b.exports=a("../../modules/$.core").Object.keys},{"../../modules/$.core":59,"../../modules/es6.object.keys":74}],55:[function(a,b,c){a("../../modules/es6.object.set-prototype-of"),b.exports=a("../../modules/$.core").Object.setPrototypeOf},{"../../modules/$.core":59,"../../modules/es6.object.set-prototype-of":75}],56:[function(a,b,c){b.exports=function(a){if("function"!=typeof a)throw TypeError(a+" is not a function!");return a}},{}],57:[function(a,b,c){var d=a("./$.is-object");b.exports=function(a){if(!d(a))throw TypeError(a+" is not an object!");return a}},{"./$.is-object":66}],58:[function(a,b,c){var d={}.toString;b.exports=function(a){return d.call(a).slice(8,-1)}},{}],59:[function(a,b,c){var d=b.exports={version:"1.2.1"};"number"==typeof __e&&(__e=d)},{}],60:[function(a,b,c){var d=a("./$.a-function");b.exports=function(a,b,c){if(d(a),void 0===b)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)}}return function(){return a.apply(b,arguments)}}},{"./$.a-function":56}],61:[function(a,b,c){var d=a("./$.global"),e=a("./$.core"),f="prototype",g=function(a,b){return function(){return a.apply(b,arguments)}},h=function(a,b,c){var i,j,k,l,m=a&h.G,n=a&h.P,o=m?d:a&h.S?d[b]:(d[b]||{})[f],p=m?e:e[b]||(e[b]={});m&&(c=b);for(i in c)j=!(a&h.F)&&o&&i in o,j&&i in p||(k=j?o[i]:c[i],m&&"function"!=typeof o[i]?l=c[i]:a&h.B&&j?l=g(k,d):a&h.W&&o[i]==k?!function(a){l=function(b){return this instanceof a?new a(b):a(b)},l[f]=a[f]}(k):l=n&&"function"==typeof k?g(Function.call,k):k,p[i]=l,n&&((p[f]||(p[f]={}))[i]=k))};h.F=1,h.G=2,h.S=4,h.P=8,h.B=16,h.W=32,b.exports=h},{"./$.core":59,"./$.global":64}],62:[function(a,b,c){b.exports=function(a){if(void 0==a)throw TypeError("Can't call method on  "+a);return a}},{}],63:[function(a,b,c){b.exports=function(a){try{return!!a()}catch(b){return!0}}},{}],64:[function(a,b,c){var d="undefined",e=b.exports=typeof window!=d&&window.Math==Math?window:typeof self!=d&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},{}],65:[function(a,b,c){var d=a("./$.cof");b.exports=0 in Object("z")?Object:function(a){return"String"==d(a)?a.split(""):Object(a)}},{"./$.cof":58}],66:[function(a,b,c){b.exports=function(a){return"object"==typeof a?null!==a:"function"==typeof a}},{}],67:[function(a,b,c){var d=Object;b.exports={create:d.create,getProto:d.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:d.getOwnPropertyDescriptor,setDesc:d.defineProperty,setDescs:d.defineProperties,getKeys:d.keys,getNames:d.getOwnPropertyNames,getSymbols:d.getOwnPropertySymbols,each:[].forEach}},{}],68:[function(a,b,c){b.exports=function(b,c){var d=a("./$.def"),e=(a("./$.core").Object||{})[b]||Object[b],f={};f[b]=c(e),d(d.S+d.F*a("./$.fails")(function(){e(1)}),"Object",f)}},{"./$.core":59,"./$.def":61,"./$.fails":63}],69:[function(a,b,c){var d=a("./$").getDesc,e=a("./$.is-object"),f=a("./$.an-object"),g=function(a,b){if(f(a),!e(b)&&null!==b)throw TypeError(b+": can't set as prototype!")};b.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(b,c,e){try{e=a("./$.ctx")(Function.call,d(Object.prototype,"__proto__").set,2),e(b,[]),c=!(b instanceof Array)}catch(f){c=!0}return function(a,b){return g(a,b),c?a.__proto__=b:e(a,b),a}}({},!1):void 0),check:g}},{"./$":67,"./$.an-object":57,"./$.ctx":60,"./$.is-object":66}],70:[function(a,b,c){var d=a("./$.iobject"),e=a("./$.defined");b.exports=function(a){return d(e(a))}},{"./$.defined":62,"./$.iobject":65}],71:[function(a,b,c){var d=a("./$.defined");b.exports=function(a){return Object(d(a))}},{"./$.defined":62}],72:[function(a,b,c){var d=a("./$.is-object");a("./$.object-sap")("freeze",function(a){return function(b){return a&&d(b)?a(b):b}})},{"./$.is-object":66,"./$.object-sap":68}],73:[function(a,b,c){var d=a("./$.to-iobject");a("./$.object-sap")("getOwnPropertyDescriptor",function(a){return function(b,c){return a(d(b),c)}})},{"./$.object-sap":68,"./$.to-iobject":70}],74:[function(a,b,c){var d=a("./$.to-object");a("./$.object-sap")("keys",function(a){return function(b){return a(d(b))}})},{"./$.object-sap":68,"./$.to-object":71}],75:[function(a,b,c){var d=a("./$.def");d(d.S,"Object",{setPrototypeOf:a("./$.set-proto").set})},{"./$.def":61,"./$.set-proto":69}]},{},[7])(7)}),angular.module("cbApp").service("localStorage",["$localForage",function(a){return{isInitialized:function(){var a=this;return a.retrieve("init").then(function(a){return console.log("item",a),a})},initialize:function(){var a=this;a.store("init",!0)},store:function(b,c){return a.setItem(b,c)},retrieve:function(b){return a.getItem(b)},remove:function(b){return a.removeItem(b)}}}]),angular.module("cbApp").controller("MainCtrl",["$scope","$http","socket","cordovaUtil","$state","localStorage",function(a,b,c,d,e,f){a.saveDeviceInfo=function(){d.saveDeviceDetails()},a.openMap=function(){e.go("map")},a.startTracking=function(){d.getCoordinates()},a.fetch=function(){console.log("fetching"),d.syncCoordinates()},a.openSignupForm=function(){e.go("signup.stepOne")}}]),angular.module("cbApp").config(["$stateProvider",function(a){a.state("main",{url:"/",templateUrl:"app/main/main.html",controller:"MainCtrl"})}]),angular.module("cbApp").controller("MapCtrl",["$scope","cordovaUtil",function(a,b){a.startTracking=function(){b.getCoordinates()}}]),angular.module("cbApp").config(["$stateProvider",function(a){a.state("map",{url:"/map",templateUrl:"app/map/map.html",controller:"MapCtrl"})}]),angular.module("cbApp").service("parse",["$q",function(a){return{saveObject:function(a,b){console.log(a,b);var c=Parse.Object.extend(a),d=new c;return d.save(b)},getObjects:function(a){var b=(Parse.Object.extend("coordinatesObj"),new Parse.Query("coordinatesObj"));return b.find()},addObjects:function(a,b){var c=Parse.Object.extend(a),d=new c;return d.add("coordinates",b),d.save()}}}]),angular.module("cbApp").controller("PostRidesCtrl",["$scope",function(a){a.message="Hello",a.leavingInJSON=["5 MIN.","10 MIN.","15 MIN.","20 MIN.","25 MIN.","30 MIN.","35 MIN.","40 MIN.","45 MIN.","50 MIN.","55 MIN.","60 MIN."],a.availableSeatsJSON=["1","2","3","4","5","6"]}]),angular.module("cbApp").config(["$stateProvider",function(a){a.state("userHome.postRides",{url:"/postRides",templateUrl:"app/postRides/postRides.html",controller:"PostRidesCtrl"})}]),angular.module("cbApp").controller("StartSamplingCtrl",["$scope","cordovaUtil","$rootScope","localStorage",function(a,b,c,d){a.message="Hello",a.buttonText="START SAMPLING",a.defaults={minZoom:10,maxZoom:20,tap:!0,tileLayer:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"},a.center={lat:18.581904504725568,lng:73.68483066558838,zoom:15},a.setCenter=!0,a.paths={},a.startOrStopSampling=function(c){"START SAMPLING"==c?(a.buttonText="STOP SAMPLING",config.cordova&&cordova.plugins.backgroundMode.enable(),b.getCoordinates()):(a.buttonText="START SAMPLING",config.cordova&&cordova.plugins.backgroundMode.disable(),b.stopSampling())},c.$on("locationCaptured",function(){d.retrieve("SavedLocationCoordinates").then(function(b){var c=JSON.parse(b);if(null!=c){var d=[];c.TrackedLocations.forEach(function(a){d.push({lat:a.location.latitude,lng:a.location.longitude})}),a.setCenter&&(a.center=d[0],a.setCenter=!1),a.paths={p1:{color:"#008000",weight:8,latlngs:d}}}})})}]),angular.module("cbApp").config(["$stateProvider",function(a){a.state("userHome.startSampling",{url:"/startSampling",templateUrl:"app/startSampling/startSampling.html",controller:"StartSamplingCtrl"})}]),angular.module("cbApp").controller("SuggestionsCtrl",["$scope","leafletMarkerEvents","$timeout","httpRequest","User",function(a,b,c,d,e){e.get().$promise.then(function(b){a.currentUser=b,console.log(a.currentUser)}),a.defaults={minZoom:10,maxZoom:15,tap:!0,tileLayer:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"},a.markers=[];var f=function(){d.get(config.apis.getAllUsers).then(function(b){console.log("res",b),200==b.status&&(a.suggestedUsers=b.data,angular.forEach(a.suggestedUsers,function(b,c){var d={};d.lat=parseFloat(b.homeLocationCoordinates[0]),d.lng=parseFloat(b.homeLocationCoordinates[1]),d.enable=["click","touch"];var e="";e=a.currentUser.empId==b.empId?"map-user-marker user-own":"map-user-marker";var f=angular.element("<img>",{src:b.userPhotoUrl,"class":e}),g=angular.element("<p>",{"class":"map-user-name-sec",html:b.empName});console.log(f.outerHTML),d.icon={type:"div",iconSize:[25,60],popupAnchor:[0,-50],iconAnchor:[10,45],html:f[0].outerHTML+g[0].outerHTML},d.message='<user-marker contactno="'+b.contactNo+'"></user-marker',a.markers.push(d)}),console.log(a.markers))})};f(),a.center={lat:18.581904504725568,lng:73.68483066558838,zoom:15};var g="leafletDirectiveMarker.myMap.click",h="leafletDirectiveMarker.myMap.touch";a.$on(g,function(a,b){c(function(){var a=document.getElementById("cn-wrapper");classie.add(a,"opened-nav")},100)}),a.$on(h,function(a,b){c(function(){var a=document.getElementById("cn-wrapper");classie.add(a,"opened-nav")},100)})}]),angular.module("cbApp").config(["$stateProvider",function(a){a.state("userHome.suggestions",{url:"/suggestions",templateUrl:"app/suggestions/suggestions.html",controller:"SuggestionsCtrl"})}]),angular.module("cbApp").controller("UserHomeCtrl",["$scope","Auth","$state","User",function(a,b,c,d){a.message="Hello",a.tgState=!1,d.get().$promise.then(function(b){a.currentUser=b,console.log(a.currentUser)}),a.toggleHamburger=function(){a.tgState=!a.tgState},a.logout=function(){b.logout(),c.go("login")}}]),angular.module("cbApp").config(["$stateProvider",function(a){a.state("userHome",{url:"/userHome",templateUrl:"app/userHome/userHome.html",controller:"UserHomeCtrl"})}]),angular.module("cbApp").directive("userMarker",function(){return{templateUrl:"app/userMarker/userMarker.html",
restrict:"E",scope:{contactno:"="},link:function(a,b,c){console.log(a.contactno),a.callMe=function(){alert("directive function called!")}}}}),angular.module("cbApp").controller("UserProfileCtrl",["$scope","$modal","cordovaUtil","$cordovaImagePicker",function(a,b,c,d){a.message="Hello",a.getLocation=function(){var d=b.open({animation:!0,templateUrl:"components/modal/modal.html",controller:"ModalCtrl",size:"sm"});d.result.then(function(b){"yes"==b&&c.getUserHomeCoordinates().then(function(b){alert("Promise was returned successfully. Address is : "+b),a.user.homeAddress=b.homeAddress,a.user.city=b.city,a.user.zipcode=b.zipcode,a.user.placeID=b.placeID})})},a.getImageSaveContact=function(){var b={maximumImagesCount:1,width:800,height:800,quality:80};d.getPictures(b).then(function(b){for(var c=0;c<b.length;c++)a.selectedImage=b[c],window.plugins.Base64.encodeFile(a.selectedImage,function(b){a.selectedImage=b,console.log(a.selectedImage)})},function(a){console.log("Error: "+JSON.stringify(a))})},a.syncUserLocationData=function(){c.syncCoordinates()}}]),angular.module("cbApp").config(["$stateProvider",function(a){a.state("userHome.userProfile",{url:"/userProfile",templateUrl:"app/userProfile/userProfile.html",controller:"UserProfileCtrl"})}]),angular.module("cbApp").factory("Auth",["$location","$rootScope","User","$q","httpRequest","localStorage",function(a,b,c,d,e,f){var g={};return f.retrieve("token").then(function(a){null!=a&&(g=c.get()),console.log(g)}),{login:function(a,b){var h=b||angular.noop,i=d.defer(),j={};return j.userId=a.empId,j.password=a.password,e.post(config.apis.login,j).then(function(a){200==a.status&&f.store("token",a.data.token).then(function(){return g=c.get(),console.log("currentUser",g),i.resolve(a),h()})},function(a){return this.logout(),i.reject(a),h(a)}.bind(this)),i.promise},logout:function(){console.log(f.retrieve("token")),f.remove("token"),g={}},createUser:function(a,b){var d=b||angular.noop;return c.save(a,function(b){return f.store("token",b.token),g=c.get(),d(a)},function(a){return this.logout(),d(a)}.bind(this)).$promise},changePassword:function(a,b,d){var e=d||angular.noop;return c.changePassword({id:g._id},{oldPassword:a,newPassword:b},function(a){return e(a)},function(a){return e(a)}).$promise},getCurrentUser:function(){return g},isLoggedIn:function(){f.retrieve("token").then(function(a){return console.log(a),null==a?!1:!0})},isLoggedInAsync:function(a){g.hasOwnProperty("$promise")?g.$promise.then(function(){a(!0)})["catch"](function(){a(!1)}):a(g.hasOwnProperty("role")?!0:!1)},isAdmin:function(){return"admin"===g.role},getToken:function(){return f.retrieve("token")}}}]),angular.module("cbApp").factory("User",["$resource",function(a){var b=config.apiBaseURL;return a(b+"api/users/:id/:controller",{id:"@_id"},{changePassword:{method:"PUT",params:{controller:"password"}},get:{method:"GET",params:{id:"me"}}})}]),angular.module("cbApp").controller("ModalCtrl",["$scope","$modalInstance",function(a,b){a.message="Hello",a.homeAddressModalOk=function(){b.close("yes")},a.homeAddressModalCancel=function(){b.close()}}]),angular.module("cbApp").factory("Modal",["$rootScope","$modal",function(a,b){function c(c,d){var e=a.$new();return c=c||{},d=d||"modal-default",angular.extend(e,c),b.open({templateUrl:"components/modal/modal.html",windowClass:d,scope:e})}return{confirm:{"delete":function(a){return a=a||angular.noop,function(){var b,d=Array.prototype.slice.call(arguments),e=d.shift();b=c({modal:{dismissable:!0,title:"Confirm Delete",html:"<p>Are you sure you want to delete <strong>"+e+"</strong> ?</p>",buttons:[{classes:"btn-danger",text:"Delete",click:function(a){b.close(a)}},{classes:"btn-default",text:"Cancel",click:function(a){b.dismiss(a)}}]}},"modal-danger"),b.result.then(function(b){a.apply(b,d)})}}}}}]),angular.module("cbApp").directive("mongooseError",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){b.on("keydown",function(){return d.$setValidity("mongoose",!0)})}}}),angular.module("cbApp").controller("NavbarCtrl",["$scope","$location","Auth",function(a,b,c){a.menu=[{title:"Home",link:"/"}],a.isCollapsed=!0,a.isLoggedIn=c.isLoggedIn,a.isAdmin=c.isAdmin,a.getCurrentUser=c.getCurrentUser,a.logout=function(){c.logout(),b.path("/login")},a.isActive=function(a){return a===b.path()}}]),angular.module("cbApp").factory("socket",["socketFactory",function(a){var b=io("",{path:"/socket.io-client"}),c=a({ioSocket:b});return{socket:c,syncUpdates:function(a,b,d){d=d||angular.noop,c.on(a+":save",function(a){var c=_.find(b,{_id:a._id}),e=b.indexOf(c),f="created";c?(b.splice(e,1,a),f="updated"):b.push(a),d(f,a,b)}),c.on(a+":remove",function(a){var c="deleted";_.remove(b,{_id:a._id}),d(c,a,b)})},unsyncUpdates:function(a){c.removeAllListeners(a+":save"),c.removeAllListeners(a+":remove")}}}]),angular.module("cbApp").run(["$templateCache",function(a){a.put("app/account/login/login.html",'<!-- Login by Siddharth Ajmera --><div class="page-wrapper login-wrapper"><div class="container login-container"><div class=form-section><form class=form name=loginForm novalidate><div class="each-row login-page"><div><span><img class=icon-style src=assets/images/icon_username.png></span></div><div><input ng-class="{\'error-border\':showErrorMessage}" class="form-control input-boxes login-input-box" name=empId placeholder="EMPLOYEE ID" ng-model=user.empId required ng-pattern="/^[0-9]*$/"><div ng-show=showErrorMessage ng-messages=loginForm.empId.$error class=error-msg-edit><p ng-message=required class=error-msg>Please enter Employee number</p><p ng-message=pattern class=error-msg>Please enter valid Employee number</p></div></div></div><div class="each-row login-page"><div><span><img class=icon-style src=assets/images/icon_password.png></span></div><div><input ng-class="{\'error-border\':showErrorMessage}" class="form-control pwd-boxes login-input-box" type=password name=password placeholder=PASSWORD ng-model=user.password required><div ng-show=showErrorMessage ng-messages=loginForm.password.$error class=error-msg-edit><p ng-message=required class=error-msg>Please enter password</p></div></div></div><div class="each-row login-page"><input type=button name=continue value=LOGIN ng-click=login()></div></form><a>Forgot password?</a> <a ui-sref=signup.stepOne>Register</a></div></div></div>'),a.put("app/account/settings/settings.html",'<div ng-include="\'components/navbar/navbar.html\'"></div><div class=container><div class=row><div class=col-sm-12><h1>Change Password</h1></div><div class=col-sm-12><form class=form name=form ng-submit=changePassword(form) novalidate><div class=form-group><label>Current Password</label><input type=password name=password class=form-control ng-model=user.oldPassword mongoose-error><p class=help-block ng-show=form.password.$error.mongoose>{{ errors.other }}</p></div><div class=form-group><label>New Password</label><input type=password name=newPassword class=form-control ng-model=user.newPassword ng-minlength=3 required><p class=help-block ng-show="(form.newPassword.$error.minlength || form.newPassword.$error.required) && (form.newPassword.$dirty || submitted)">Password must be at least 3 characters.</p></div><p class=help-block>{{ message }}</p><button class="btn btn-lg btn-primary" type=submit>Save changes</button></form></div></div></div>'),a.put("app/account/signup/signup.html",'<div class=page-wrapper><div class="container login-container"><div class=timeline-section><!-- progressbar --><ul id=progressbar><li ng-class="{\'active\':step==1}" ng-click=goToStep(1)><a href="">1</a></li><li ng-class="{\'active\':step==2}" ng-click=goToStep(2)><a href="">2</a></li><li ng-class="{\'active\':step==3}" ng-click=goToStep(3)><a href="">3</a></li></ul></div><form name=signupForm class=animation-form-signup ng-submit=register() novalidate><div ui-view></div></form></div></div>'),a.put("app/account/signup/stepOne/stepOne.html",'<div class="form-section signup-section-form"><div class=each-row><div><span><img class=icon-style src=assets/images/icon_employee_ID.png></span></div><div><input type=number max=9999999 ng-class="{\'error-border\':!showErrorMessage}" class="form-control input-boxes login-input-box" ng-model=user.empId name=empid placeholder="EMPLOYEE ID" required ng-pattern="/^[1-9]\\d*$/"><div ng-show=!showErrorMessage ng-messages=signupForm.empid.$error class=error-msg-edit><p ng-message=required class=error-msg>Employee ID is required</p><p ng-message=pattern class=error-msg>Invalid Employee ID</p></div></div></div><div class=each-row><div><span><img class=icon-style src=assets/images/icon_username.png></span></div><div><input ng-class="{\'error-border\':!showErrorMessage}" name=empName class="form-control input-boxes login-input-box" ng-model=user.empName placeholder=NAME required><div ng-show=!showErrorMessage ng-messages=signupForm.empName.$error class=error-msg-edit><p ng-message=required class=error-msg>Name is required</p><p ng-message=pattern class=error-msg>Invalid Name</p></div></div></div><div class=each-row><div><span><img class=icon-style src=assets/images/icon_mobile_number.png></span></div><div><input maxlength=10 class="form-control input-boxes login-input-box" ng-class="{\'error-border\':!showErrorMessage}" ng-model=user.contactNo type=tel name=contactNo required ng-pattern="/^[789]\\d{9}$/" placeholder="MOBILE NUMBER"><div ng-show=!showErrorMessage ng-messages=signupForm.contactNo.$error class=error-msg-edit><p ng-message=required class=error-msg>Contact Number is required</p><p ng-message=pattern class=error-msg>Invalid Contact Number</p></div></div></div><div id=sites class="each-row gender-section"><div class="radio gender-radio"><label class=rad><input type=radio name=optradio value=Female ng-model="user.gender"><i></i> FEMALE</label></div><div class="radio gender-radio"><label class=rad><input type=radio name=optradio value=Male ng-model="user.gender"><i></i> MALE</label></div></div><div class=each-row><input type=button class=input-buttons name=continue value=CONTINUE ng-click=goToStep(2)></div></div>'),a.put("app/account/signup/stepThree/stepThree.html",'<div class="form-section signup-section-form"><div class=each-row><div><span><img class=icon-style src=assets/images/icon_username.png></span></div><div><input type=number maxlength=9999999 ng-class="{\'error-border\':!showErrorMessage}" class="form-control input-boxes login-input-box" ng-model=user.username name=username placeholder=USERNAME required ng-pattern="/^[1-9]\\d*$/"><div ng-show=!showErrorMessage ng-messages=signupForm.username.$error class=error-msg-edit><p ng-message=required class=error-msg>Username is required</p><p ng-message=pattern class=error-msg>Invalid Username</p></div></div></div><div class=each-row><div><span><img class=icon-style src=assets/images/icon_password.png></span></div><div><input class="form-control pwd-boxes login-input-box" ng-class="{\'error-border\':!showErrorMessage}" required type=password ng-model=user.password name=password placeholder=PASSWORD><div ng-show=!showErrorMessage ng-messages=signupForm.password.$error class=error-msg-edit><p ng-message=required class=error-msg>Please enter password</p></div></div></div><div class=each-row><p class=terms-cond-text>By Signing up, I agree to TCS\'s <a href=# class="global-link float-none">Terms of Service</a> and <a href=# class="global-link float-none">Privacy Policy</a></p></div><div class=each-row><input type=submit class=submit-buttons name=continue value=REGISTER></div></div>'),a.put("app/account/signup/stepTwo/stepTwo.html",'<div class="form-section signup-section-form signup-two-wrap"><div class=each-row><div><span><img class=icon-style src=assets/images/icon_home_address.png></span></div><div class="input-fields address-fields"><input ng-class="{\'error-border\':!showErrorMessage}" name=homeAddress class="form-control input-boxes" ng-model=user.homeAddress placeholder="HOME ADDRESS" required></div><div class=icon-address-fields><span><img class=icon-style src=assets/images/icon_location.png ng-click=getLocation()></span></div><div ng-show=!showErrorMessage ng-messages=signupForm.homeAddress.$error class=error-msg-edit><p ng-message=required class=error-msg>Home Address is required</p></div></div><div class=each-row><span class=each-row-half><div><span><img class=icon-style src=assets/images/icon_city.png></span></div><div class=input-fields><input ng-class="{\'error-border\':!showErrorMessage}" name=city class="form-control input-boxes login-input-box" ng-model=user.city placeholder=CITY required ng-pattern="/^[a-zA-Z]+(?:[\\s-][a-zA-Z]+)*$/"></div><div ng-show=!showErrorMessage ng-messages=signupForm.city.$error class=error-msg-edit><p ng-message=required class=error-msg>City is required</p><p ng-message=pattern class=error-msg>Invalid City</p></div></span> <span class=each-row-half><div><span><img class=icon-style src=assets/images/icon_zipcode.png></span></div><div class=input-fields><input type=number ng-class="{\'error-border\':!showErrorMessage}" name=zipcode class="form-control input-boxes login-input-box" ng-model=user.zipcode placeholder=ZIPCODE max=999999 required ng-pattern="/^[123456789]\\d{5}$/"></div><div ng-show=!showErrorMessage ng-messages=signupForm.homeAddress.$error class=error-msg-edit><p ng-message=required class=error-msg>Zipcode is required</p><p ng-message=pattern class=error-msg>Invalid Zipcode</p></div></span></div><div class=each-row><div><span><img class=icon-style src=assets/images/icon_office_address.png></span></div><div class="input-fields office-address-select-wrap"><!-- <select ui-select2  name="officeAddress" class="office-address-select" ng-model="user.officeAddress" ng-class="{\'error-border\':!showErrorMessage}" required  data-placeholder="OFFICE ADDRESS">\n					<option value="">OFFICE ADDRESS</option>\n				 <option ng-repeat="oa in officeAddressJSON" value="{{oa}}">{{oa}}</option>   \n			</select> --><ui-select ng-model=user.officeAddress class=office-address-select><ui-select-match placeholder="OFFICE ADDRESS"><span ng-bind=$select.selected></span></ui-select-match><ui-select-choices repeat="item in (officeAddressJSON | filter: $select.search)"><span ng-bind=item></span></ui-select-choices></ui-select></div><div ng-show=!showErrorMessage ng-messages=signupForm.officeAddress.$error class=error-msg-edit><p ng-message=required class=error-msg>Please select an office address</p></div></div><div class=each-row><span class=each-row-half><div><span><img class=icon-style src=assets/images/icon_time.png></span></div><div class=input-fields><select name=timeSlot class="timeslot login-input-box" ng-model=user.timeSlot ng-class="{\'error-border\':!showErrorMessage}" required ng-options="t as t for t in timeSlotJSON"><option style=display:none value="">TIMESLOT</option></select></div><div ng-show=!showErrorMessage ng-messages=signupForm.timeSlot.$error class=error-msg-edit><p ng-message=required class=error-msg>Please select a timeslot</p></div></span> <span class=each-row-half><div><span><img class=icon-style src=assets/images/icon_seat.png></span></div><div class=input-fields><select class="seater-select login-input-box" name=capacity ng-class="{\'error-border\':!showErrorMessage}" required ng-model=user.vehicle.capacity ng-options="c as c for c in vehicleCapacityJSON"><option style=display:none value="">SEAT</option></select></div><div ng-show=!showErrorMessage ng-messages=signupForm.capacity.$error class=error-msg-edit><p ng-message=required class=error-msg>Please select available seats</p></div></span></div><div class="each-row seater-section"><div><span><img class=icon-style src=assets/images/icon_car.png></span></div><div class=input-fields><input class="form-control input-boxes" ng-class="{\'error-border\':!showErrorMessage}" maxlength=13 name=vehicleNo required ng-pattern="/^[A-Z]{2}[ -][0-9]{1,2}(?: [A-Z])?(?: [A-Z]*)? [0-9]{4}$/" ng-model=user.vehicle.vehicleNo placeholder="VEHICLE REGISTRATION NUMBER"></div><div ng-show=!showErrorMessage ng-messages=signupForm.vehicleNo.$error class=error-msg-edit><p ng-message=required class=error-msg>Registration Number is required</p><p ng-message=pattern class=error-msg>Invalid Registration Number</p></div></div><div class=each-row><input type=button class="input-buttons login-input-box" name=continue value=CONTINUE ng-click=goToStep(3)></div></div>'),a.put("app/admin/admin.html",'<div ng-include="\'components/navbar/navbar.html\'"></div><div class=container><p>The delete user and user index api routes are restricted to users with the \'admin\' role.</p><ul class=list-group><li class=list-group-item ng-repeat="user in users"><strong>{{user.name}}</strong><br><span class=text-muted>{{user.email}}</span> <a ng-click=delete(user) class=trash><span class="glyphicon glyphicon-trash pull-right"></span></a></li></ul></div>'),a.put("app/availableRides/availableRides.html",'<div class=page-wrapper><div class="container login-container user-home-container pad-R-none pad-L-none"><div class="col-md-12 col-sm-12 col-xs-12 header-section"><span class="glyphicon glyphicon-chevron-left cursor-pointer" ng-click=toggleHamburger()></span> <span class=heading>Avaialble Rides</span></div><div class="form-section functionality-wrap avail-list-wrap"><div class="col-md-12 col-sm-12 col-xs-12 pad-R-none pad-L-none each-vailable-ride"><div class="col-md-3 col-sm-3 col-xs-3 avail-list-img-sec"><img src=assets/images/user-image.jpg class=avail-user-img></div><div class="col-md-9 col-sm-9 col-xs-9"><div class="col-md-12 col-sn-12 col-xs-12 pad-R-none pad-L-none"><span class="pull-left input-labels">Bob Martin</span> <span class="pull-right input-labels">01/01/2015</span></div><div class="col-md-12 col-sn-12 col-xs-12 pad-R-none pad-L-none"><div class=availability-label>Availability</div><div class="avail-seat-wrap field-gap-top field-gap-bottom"><span class="each-seat available"></span> <span class="each-seat occupied"></span> <span class="each-seat occupied"></span> <span class="each-seat available selected"></span></div></div></div></div><div class="col-md-12 col-sm-12 col-xs-12 pad-R-none pad-L-none each-vailable-ride"><div class="col-md-3 col-sm-3 col-xs-3 avail-list-img-sec"><img src=assets/images/user-image.jpg class=avail-user-img></div><div class="col-md-9 col-sm-9 col-xs-9"><div class="col-md-12 col-sn-12 col-xs-12 pad-R-none pad-L-none"><span class="pull-left input-labels">Bob Martin</span> <span class="pull-right input-labels">01/01/2015</span></div><div class="col-md-12 col-sn-12 col-xs-12 pad-R-none pad-L-none"><div class=availability-label>Availability</div><div class="avail-seat-wrap field-gap-top field-gap-bottom"><span class="each-seat available"></span> <span class="each-seat occupied"></span> <span class="each-seat occupied"></span> <span class="each-seat available selected"></span></div></div></div></div><div class="col-md-12 col-sm-12 col-xs-12 pad-R-none pad-L-none each-vailable-ride"><div class="col-md-3 col-sm-3 col-xs-3 avail-list-img-sec"><img src=assets/images/user-image.jpg class=avail-user-img></div><div class="col-md-9 col-sm-9 col-xs-9"><div class="col-md-12 col-sn-12 col-xs-12 pad-R-none pad-L-none"><span class="pull-left input-labels">Bob Martin</span> <span class="pull-right input-labels">01/01/2015</span></div><div class="col-md-12 col-sn-12 col-xs-12 pad-R-none pad-L-none"><div class=availability-label>Availability</div><div class="avail-seat-wrap field-gap-top field-gap-bottom"><span class="each-seat available"></span> <span class="each-seat occupied"></span> <span class="each-seat occupied"></span> <span class="each-seat available selected"></span></div></div></div></div><div class="col-md-12 col-sm-12 col-xs-12 pad-R-none pad-L-none each-vailable-ride"><div class="col-md-3 col-sm-3 col-xs-3 avail-list-img-sec"><img src=assets/images/user-image.jpg class=avail-user-img></div><div class="col-md-9 col-sm-9 col-xs-9"><div class="col-md-12 col-sn-12 col-xs-12 pad-R-none pad-L-none"><span class="pull-left input-labels">Bob Martin</span> <span class="pull-right input-labels">01/01/2015</span></div><div class="col-md-12 col-sn-12 col-xs-12 pad-R-none pad-L-none"><div class=availability-label>Availability</div><div class="avail-seat-wrap field-gap-top field-gap-bottom"><span class="each-seat available"></span> <span class="each-seat occupied"></span> <span class="each-seat occupied"></span> <span class="each-seat available selected"></span></div></div></div></div></div></div></div>'),a.put("app/home/home.html",'<div class="col-md-12 col-sm-12 col-xs-12 header-section"><span class="glyphicon glyphicon-chevron-left cursor-pointer" ng-click=toggleHamburger()></span> <span class=heading>Home</span></div><div><img class="img-responsive userHome-back" src=assets/images/analytics.jpg width=320 height=568></div>'),a.put("app/intro/intro.html",'<section id=features class=blue ng-init="index=2"><div class=content><slick dots=true infinite=false speed=300 slides-to-show=1 touch-move=false slides-to-scroll=1 class="slider one-time"><div class=slide-wrap><div class="slide-info-section slide-1"><div class=icon-img-wrap><img class=slide-icons src=assets/images/intro-slider/ico_search.png></div><p>Find a companion</p><p>to commute with</p></div></div><div class=slide-wrap><div class="slide-info-section slide-2"><div class=icon-img-wrap><img class=slide-icons src=assets/images/intro-slider/ico_save_exp.png></div><p>Share fuel costs</p><p>and experiences</p></div></div><div class=slide-wrap><div class="slide-info-section slide-3"><div class=icon-img-wrap><img class=slide-icons src=assets/images/intro-slider/ico_make_friend.png></div><p>Make new friends</p><p>while commuting</p></div></div><div class=slide-wrap><div class="slide-info-section slide-4"><div class=icon-img-wrap><img class=slide-icons src=assets/images/intro-slider/ico_make_friend.png></div><p>Save fuel, reduce traffic</p><p>and save earth</p><div class=get-started-section><a class=get-started-link ui-sref=userHome.home>Get Started</a></div></div></div></slick><!-- <p ng-click="index=4">Change index to 4</p>\n    <br> --><!-- <hr/> --><!--   <h2>Multiple Items</h2>\n    <slick slides-to-show=3 slides-to-scroll=3 init-onload=true data="awesomeThings" class="slider multiple-items">\n      <div ng-repeat="thing in awesomeThings"><h3>{{ thing }}</h3></div>\n    </slick>\n    <hr/>\n\n\n    <h2>One At A Time</h2>\n    <slick dots="true" infinite="false" speed=300 slides-to-show=5 touch-move="false" slides-to-scroll=1 class="slider one-time">\n      <div><h3>1</h3></div>\n      <div><h3>2</h3></div>\n      <div><h3>3</h3></div>\n      <div><h3>4</h3></div>\n      <div><h3>5</h3></div>\n      <div><h3>6</h3></div>\n    </slick>\n    \n\n    <br>\n    <hr/>\n    <h2>Lazy Loading</h2>\n    <slick lazy-load=\'ondemand\' slides-to-show=3 slides-to-scroll=1 class="slider lazy">\n      <div><div class="image"><img data-lazy="images/lazyfonz1.png"/></div></div>\n      <div><div class="image"><img data-lazy="images/lazyfonz2.png"/></div></div>\n      <div><div class="image"><img data-lazy="images/lazyfonz3.png"/></div></div>\n      <div><div class="image"><img data-lazy="images/lazyfonz4.png"/></div></div>\n      <div><div class="image"><img data-lazy="images/lazyfonz5.png"/></div></div>\n      <div><div class="image"><img data-lazy="images/lazyfonz6.png"/></div></div>\n    </slick> --></div></section>'),a.put("app/main/introductionCarousel.html",'<section id=features class=blue ng-init="index=2"><div class=content><h2>Single Item</h2><slick class="slider single-item" current-index=index responsive=breakpoints slides-to-show=3 slides-to-scroll=3><div ng-repeat="i in [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]"><h3>{{ i }}</h3></div><p>Current index: {{ index }}</p></slick><p ng-click="index=4">Change index to 4</p><br><hr><!--   <h2>Multiple Items</h2>\n    <slick slides-to-show=3 slides-to-scroll=3 init-onload=true data="awesomeThings" class="slider multiple-items">\n      <div ng-repeat="thing in awesomeThings"><h3>{{ thing }}</h3></div>\n    </slick>\n    <hr/>\n    <h2>One At A Time</h2>\n    <slick dots="true" infinite="false" speed=300 slides-to-show=5 touch-move="false" slides-to-scroll=1 class="slider one-time">\n      <div><h3>1</h3></div>\n      <div><h3>2</h3></div>\n      <div><h3>3</h3></div>\n      <div><h3>4</h3></div>\n      <div><h3>5</h3></div>\n      <div><h3>6</h3></div>\n    </slick>\n    <br>\n    <hr/>\n    <h2>Lazy Loading</h2>\n    <slick lazy-load=\'ondemand\' slides-to-show=3 slides-to-scroll=1 class="slider lazy">\n      <div><div class="image"><img data-lazy="images/lazyfonz1.png"/></div></div>\n      <div><div class="image"><img data-lazy="images/lazyfonz2.png"/></div></div>\n      <div><div class="image"><img data-lazy="images/lazyfonz3.png"/></div></div>\n      <div><div class="image"><img data-lazy="images/lazyfonz4.png"/></div></div>\n      <div><div class="image"><img data-lazy="images/lazyfonz5.png"/></div></div>\n      <div><div class="image"><img data-lazy="images/lazyfonz6.png"/></div></div>\n    </slick> --></div></section>'),a.put("app/main/main.html",'<div class=main-page-wrapper><div><div class="col-md-12 col-sm-12 col-xs-12 location-section"><div class="col-md-12 col-sm-12 col-xs-12 content-wrapper map-content-wrapper"><svg class=map-svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1 x=0px y=0px viewbox="0 0 100 125" style="enable-background:new 0 0 100 100" xml:space=preserve><path class=path-0 d="M73.5,48.3l-1.4,2.4l5.9,2.5l-7.8,4.5l-1.6-0.9l-0.3,0.5l1.3,0.7L67,59.4l-0.6,1.1l3.8-2.2l8.6,4.7l-8.9,5.5  L62,63l1.1-0.7l-0.3-0.5l-1.4,0.8l-5.9-4.1l4.1-2.2l-0.3-0.5L55,58.1l-4.7-3.3l6.6-3.4L56,49.9l-3-1.6l1.6-0.8l-0.3-0.5l-1.9,1  L48.9,46l3.8-1.8l-0.3-0.5l-4.2,2L45,43.9l5.5-2.6l0.7,0.3l-1.1-1.9l-12.9,5.9l-14.3-3.6L5,50.3l10.2,41.3l36.6-22.1l21.3,1.4  L95,56.9L73.5,48.3z M54.8,58.9l0.1-0.1l5.3,3.7l-7.3-1l-5-4l6.9,1.2L54.8,58.9z M41.8,53.5l3.8,3L37.2,55l-0.1-0.1l-0.1,0l-3.2-3  L41.8,53.5z M33.1,51.1L33,51l-0.1,0l-2.4-2.2l7.3,1.6l2.9,2.3L33.1,51.1z M39.2,50.6l5.9,1.3l0.1,0.1l0.1-0.1l3,2.1L42,52.9  L39.2,50.6z M38.1,49.8L36,48.1l5.5,1.3l0.1,0.1l0.1-0.1l2.3,1.6L38.1,49.8z M36.7,49.5l-7-1.5l-0.1-0.1l-0.1,0l-1.8-1.7l6.7,1.6  L36.7,49.5z M29,48.1l-8.2,4l-1.7-2.5l7.6-3.6L29,48.1z M29.5,48.6l2.9,2.7l-9.1,4.6l-2.1-3.2L29.5,48.6z M32.8,51.7l3.7,3.5  l-10.2,5.3l-2.7-4.2L32.8,51.7z M37,55.7l4.8,4.6l-11.5,6.4l-3.6-5.5L37,55.7z M38,55.8l8.6,1.5l5.1,4L42.5,60l-0.1-0.1l-0.1,0  L38,55.8z M53.7,57.9l-6.8-1.2l-3.8-3l6.4,1.3l0.1,0.1l0.1-0.1L53.7,57.9z M56.5,50.9l-6.8,3.5l-3.8-2.7l6.4-3.2L56.5,50.9z   M51.6,48.2l-6.3,3.1l-3.1-2.2l5.9-2.8L51.6,48.2z M44.3,44.2l3.2,1.7l-5.8,2.8l-2.8-2L44.3,44.2z M38.2,46.8L38.1,47l2.1,1.4  l-5.3-1.3l-2.2-1.7L38.2,46.8z M31.6,45.2l-0.1,0.1l1.9,1.5L27,45.3l-0.1-0.1l-0.1,0l-1.7-1.7L31.6,45.2z M24.2,43.6l2.1,1.9  l-7.5,3.5l-1.5-2.3L24.2,43.6z M9.1,50.5l7.6-3.5l1.5,2.3l-8.2,3.9L9.1,50.5z M10.1,53.8l8.4-4l1.7,2.5l-9.1,4.4L10.1,53.8z   M11.3,57.4l9.2-4.5l2.1,3.2l-10.1,5.1L11.3,57.4z M12.8,61.8L23,56.7l2.7,4.2l-11.3,5.9L12.8,61.8z M14.6,67.4l11.5-6l3.6,5.6  l-12.9,7.1L14.6,67.4z M20.1,84.3L17,74.7l13.1-7.2l5.2,7.9L20.1,84.3z M35.7,75l-5.1-7.9l11.7-6.4l6.8,6.4L35.7,75z M49.7,67  L49.7,67l-6.5-6.2l9.4,1.3l7.4,5.8L49.7,67z M60.9,68L60.9,68l-7.1-5.7l7.4,1l0.1,0.1l0.1-0.1l7.6,5.3L60.9,68z M70.8,58l7.9-4.5  l9.2,4l-8.5,5.2L70.8,58z"><g><path class=path-1 fill=#02A554 d="M78.9,16.9c-3-5.2-8.6-8.5-14.7-8.5c-6,0-11.6,3.2-14.7,8.5c-3,5.2-3,11.7,0,16.9c4.9,8.5,9.8,16.9,14.7,25.4   c4.9-8.5,9.8-16.9,14.7-25.4C82,28.6,82,22.2,78.9,16.9z M64.3,34.9c-5.3,0-9.5-4.3-9.5-9.5c0-5.3,4.3-9.5,9.5-9.5   c5.3,0,9.5,4.3,9.5,9.5C73.8,30.7,69.5,34.9,64.3,34.9z"></g></svg><div class="col-md-12 col-sm-12 col-xs-12"><input type=button class=locate-me value="LOCATE ME" ng-click=openMap()> <input type=button class=locate-me value=SYNC ng-click=fetch()></div></div></div><div class="col-md-12 col-sm-12 col-xs-12 mainpage-signup-section"><div class="col-md-12 col-sm-12 col-xs-12 content-wrapper"><svg class=signup-main-svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1 x=0px y=0px viewbox="0 0 100 125" enable-background="new 0 0 100 100" xml:space=preserve><g><path class=path-0 d="M95.438,80.064H33.325V68.491l12.114-5.922c0.251-1.752,0.938-4.743,2.756-5.828v-3.81   c-0.067-0.41-0.265-1.121-0.566-1.498c-0.932-1.165-2.117-4.371-2.561-6.852c-0.423-0.493-1.016-1.379-1.311-2.703   c-0.035-0.159-0.081-0.349-0.132-0.562c-0.601-2.493-1.053-4.842,0.001-6.182c0.183-0.232,0.401-0.421,0.646-0.564   c-0.357-3.267-0.914-10.742,1.024-13.812c2.468-3.907,8.334-8.259,12.807-8.259h2.645c4.473,0,10.34,4.353,12.808,8.259   c1.938,3.07,1.382,10.545,1.024,13.812c0.245,0.143,0.463,0.333,0.646,0.564c1.055,1.339,0.602,3.688,0,6.182   c-0.052,0.213-0.098,0.403-0.133,0.561c-0.294,1.324-0.886,2.209-1.309,2.703c-0.444,2.486-1.631,5.693-2.562,6.854   c-0.298,0.373-0.495,1.081-0.563,1.497v3.808c1.796,1.073,2.487,4.006,2.745,5.767c2.253,0.929,8.825,3.633,14.924,6.101   c8.072,3.27,9.745,8.237,9.812,8.447c0.168,0.511,0.177,1.309-0.312,1.985C97.488,79.507,96.799,80.064,95.438,80.064z    M36.325,77.064h58.491c-0.813-1.308-2.874-3.756-7.615-5.676c-7.518-3.043-15.754-6.443-15.754-6.443l-0.835-0.345l-0.086-0.901   c-0.205-2.149-0.942-4.151-1.416-4.377h-1.5l0.048-1.49l0.012-5.194c0.023-0.189,0.259-1.885,1.21-3.077   c0.488-0.609,1.673-3.515,2.015-5.896l0.084-0.586l0.462-0.371l0,0c-0.003,0,0.498-0.462,0.725-1.481   c0.038-0.173,0.088-0.381,0.145-0.614c0.364-1.512,0.553-2.588,0.562-3.215l-1.713,0.49l0.271-2.27   c0.557-3.993,0.938-11.124-0.41-13.259c-1.963-3.107-6.983-6.86-10.271-6.86h-2.645c-3.288,0-8.307,3.753-10.271,6.861   c-1.348,2.135-0.967,9.265-0.41,13.258l0.319,2.283l-1.761-0.503c0.009,0.626,0.197,1.703,0.561,3.215   c0.056,0.233,0.106,0.441,0.145,0.613c0.228,1.024,0.733,1.485,0.755,1.505l0.407,0.364l0.11,0.569   c0.34,2.376,1.525,5.284,2.013,5.894c0.953,1.192,1.188,2.888,1.212,3.078l0.012,0.186v6.509h-1.5   c-0.426,0.216-1.164,2.219-1.37,4.368l-0.08,0.836l-11.919,5.828V77.064z"><path class=path-1 fill=#02A554 d="M21.687,90.104H11.403v-10.06H1.343V69.76h10.06V59.699h10.284V69.76h10.06v10.284h-10.06V90.104z M14.403,87.104h4.284   v-10.06h10.06V72.76h-10.06V62.699h-4.284V72.76H4.343v4.284h10.06V87.104z"></g></svg><div class="col-md-12 col-sm-12 col-xs-12"><input type=button class=locate-me value="SIGN UP" ng-click=openSignupForm()> <input type=button class=locate-me value="Test App" ui-sref=userHome.home></div></div></div></div></div>'),a.put("app/main/trackMyLocation.html","<p>Locate Me</p><div id=mapCanvas style=width:500px;height:380px></div><button ng-click=startTracking()>Find my Location</button>"),a.put("app/map/map.html","<p>Locate Me</p><div id=mapCanvas style=width:500px;height:380px></div><button ng-click=startTracking()>Find my Location</button>"),a.put("app/postRides/postRides.html",'<div class=page-wrapper><div class="col-md-12 col-sm-12 col-xs-12 header-section"><span class="glyphicon glyphicon-chevron-left cursor-pointer" ng-click=toggleHamburger()></span> <span class=heading>Post Ride</span></div><div class="container login-container"><form name=userProfileUpdateForm class=animation-form-signup ng-submit=updateUserData() novalidate><div class="form-section signup-section-form"><div class=each-row><div><span><img class=icon-style src=assets/images/icon_home_address.png></span></div><div class="input-fields address-fields"><input ng-class="{\'error-border\':!showErrorMessage}" name=rideSource class="form-control input-boxes ride-source-field" ng-model=ride.source placeholder="LEAVING FROM" required></div><div class=icon-address-fields><span><img class=icon-style src=assets/images/icon_location.png ng-click=getLocation()></span></div><div ng-show=!showErrorMessage ng-messages=postRideForm.rideSource.$error class=error-msg-edit><p ng-message=required class=error-msg>Ride source is required</p></div></div><div class=each-row><div><span><img class=icon-style src=assets/images/icon_office_address.png></span></div><div class="input-fields address-fields"><input ng-class="{\'error-border\':!showErrorMessage}" name=rideDestination class="form-control input-boxes home-address-changer" ng-model=ride.destination placeholder="LEAVING FOR" required></div><div class=icon-address-fields><span><img class=icon-style src=assets/images/icon_location.png ng-click=getLocation()></span></div><div ng-show=!showErrorMessage ng-messages=postRideForm.rideDestination.$error class=error-msg-edit><p ng-message=required class=error-msg>Ride destination is required</p></div></div><div class=each-row><span class=each-row-half><div><span><img class=icon-style src=assets/images/icon_time.png></span></div><div class=input-fields><select name=leavingIn class="timeslot login-input-box" ng-model=ride.leavingIn ng-class="{\'error-border\':!showErrorMessage}" required ng-options="t as t for t in leavingInJSON"><option style=display:none value="">LEAVING IN</option></select></div><div ng-show=!showErrorMessage ng-messages=postRideForm.leavingIn.$error class=error-msg-edit><p ng-message=required class=error-msg>Leaving in min. is required</p></div></span> <span class=each-row-half><div><span><img class=icon-style src=assets/images/icon_seat.png></span></div><div class=input-fields><select class="seater-select login-input-box" name=availableSeats ng-class="{\'error-border\':!showErrorMessage}" required ng-model=ride.availableSeats ng-options="c as c for c in availableSeatsJSON"><option style=display:none value="">SEATS AVAILABLE</option></select></div><div ng-show=!showErrorMessage ng-messages=postRideForm.availableSeats.$error class=error-msg-edit><p ng-message=required class=error-msg>Available seats is required</p></div></span></div><div class=each-row><input type=button class=input-buttons name=syncData value="POST RIDE" ng-click=postRide()></div></div></form></div></div>'),
a.put("app/startSampling/startSampling.html",'<div class=page-wrapper><div class="col-md-12 col-sm-12 col-xs-12 header-section"><span class="glyphicon glyphicon-chevron-left cursor-pointer" ng-click=toggleHamburger()></span> <span class=heading>Start Sampling</span></div><div class="container login-container"><form name=userProfileUpdateForm class=animation-form-signup ng-submit=updateUserData() novalidate><div class="form-section signup-section-form"><div class=each-row><input type=button class=input-buttons name=syncData value={{buttonText}} ng-click=startOrStopSampling(buttonText)></div></div></form><leaflet event-broadcast=events id=myMap defaults=defaults center=center paths=paths></leaflet></div></div>'),a.put("app/suggestions/suggestions.html",'<div class="col-md-12 col-sm-12 col-xs-12 header-section"><span class="glyphicon glyphicon-chevron-left cursor-pointer" ng-click=toggleHamburger()></span> <span class=heading>Get Suggestions</span></div><div class=suggestion-map-wrap><leaflet markers=markers lf-center=center event-broadcast=events id=myMap defaults=defaults></leaflet></div>'),a.put("app/userHome/userHome.html",'<div class=main-page-wrapper><!-- Hamburger Content --><div class="show-none hamburger-content" ng-class="{show : tgState}"><div class="col-md-11 col-sm-11 col-xs-11 pad-R-none pad-L-none ham-con-wrap"><div class="col-md-12 col-sm-12 col-xs-12 hamburger-image-section"><div class="col-md-12 col-sm-12 col-xs-12"><svg ng-click=toggleHamburger() class=close-hamburger-menu xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink height=32px id=Layer_1 style="enable-background:new 0 0 32 32" version=1.1 viewbox="0 0 32 32" width=32px xml:space=preserve><path d="M4,10h24c1.104,0,2-0.896,2-2s-0.896-2-2-2H4C2.896,6,2,6.896,2,8S2.896,10,4,10z M28,14H4c-1.104,0-2,0.896-2,2  s0.896,2,2,2h24c1.104,0,2-0.896,2-2S29.104,14,28,14z M28,22H4c-1.104,0-2,0.896-2,2s0.896,2,2,2h24c1.104,0,2-0.896,2-2  S29.104,22,28,22z"></svg></div><div class=user-image-hamburger-wrap><a ui-sref=userHome.userProfile><img src={{currentUser.userPhotoUrl}} ng-click=toggleHamburger() class=avail-user-img><!-- {{currentUser.userPhotoUrl}} --><div class=user-indication-image-wrap><img class=user-indication-image src=assets/images/3x/ico_available.png></div><!-- <svg>\n						  <circle cx="50" cy="50" r="5" class="indicator-circle"/>\n						</svg> --></a></div><p class=hamburger-username>{{currentUser.empName}}</p><div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 user-locationham-wrap"><span class="glyphicon glyphicon-map-marker"></span> <span class=user-location-ham>Pune, Maharashtra</span></div></div><div class="col-md-12 col-sm-12 col-xs-12 pad-R-none pad-L-none"><ul class=functionality-ham-list><li><img src=assets/images/3x/ico_post_ride_off.png class=ham-menu-icon> <a class=function-links ui-sref=userHome.postRides ng-click=toggleHamburger()>POST RIDE</a></li><li><img src=assets/images/3x/ico_get_sugg_off.png class=ham-menu-icon> <a class=function-links ui-sref=userHome.suggestions ng-click=toggleHamburger()>GET SUGGESTIONS</a></li><li><img src=assets/images/3x/ico_sampling_off.png class=ham-menu-icon> <a class=function-links ui-sref=userHome.availableRides ng-click=toggleHamburger()>AVAILABLE RIDES</a></li><li><img src=assets/images/3x/ico_sampling_off.png class=ham-menu-icon> <a class=function-links ui-sref=userHome.startSampling ng-click=toggleHamburger()>START SAMPLING</a></li><li><img src=assets/images/3x/ico_analyze_off.png class=ham-menu-icon> <a class=function-links ui-sref=main>TEST APP</a></li><li><img src=assets/images/3x/ico_login_off.png class=ham-menu-icon> <a class=function-links ng-click=logout()>LOGOUT</a></li></ul></div></div><div class="col-md-1 col-sm-1 col-xs-1 pad-R-none pad-L-none hamburger-overlay" ng-click=toggleHamburger()></div></div><!-- page content --><div class=main-content ng-class="{show : tgState}"><!-- <hamburger-toggle state="tgState"></hamburger-toggle> --><ui-view></ui-view></div></div>'),a.put("app/userMarker/userMarker.html",'<div class=cn-wrapper id=cn-wrapper>{{contactno}}<ul><li><a ng-href="tel: {{contactno}}"><img class=calling-icon-map src=assets/images/map-icons/icon_call.png></a></li><li><a href=#><img src=assets/images/map-icons/icon_contact_rollover.png></a></li><li><a href=#><img src=assets/images/map-icons/icon_favorite.png></a></li><li><a href=#><img class=add-icon-map src=assets/images/map-icons/icon_add.png></a></li></ul></div>'),a.put("app/userProfile/userProfile.html",'<div class=page-wrapper><div class="col-md-12 col-sm-12 col-xs-12 header-section"><span class="glyphicon glyphicon-chevron-left cursor-pointer" ng-click=toggleHamburger()></span> <span class=heading>User Profile</span></div><div class="container login-container"><form name=userProfileUpdateForm class=animation-form-signup ng-submit=updateUserData() novalidate><div class="form-section signup-section-form"><div class=image-update-wrap><div class="col-lg-9 col-md-9 col-sm-9 col-xs-9 pad-L-none pad-R-none user-image-update"><img ng-if=selectedImage class=profile-image-update-sec ng-src={{selectedImage}} alt=user-image> <img ng-if=!selectedImage class=profile-image-update-sec src=https://static.licdn.com/scds/common/u/images/themes/katy/ghosts/person/ghost_person_100x100_v1.png alt=user-image></div><div class="col-lg-3 col-md-3 col-sm-3 col-xs-3 image-update-btn"><span class="glyphicon glyphicon-pencil" ng-click=getImageSaveContact()></span></div></div><div class=each-row><div><span><img class=icon-style src=assets/images/icon_home_address.png></span></div><div class="input-fields address-fields"><input ng-class="{\'error-border\':!showErrorMessage}" name=homeAddress class="form-control input-boxes home-address-changer" ng-model=user.homeAddress placeholder="HOME ADDRESS" required></div><div class=icon-address-fields><span><img class=icon-style src=assets/images/icon_location.png ng-click=getLocation()></span></div><div ng-show=!showErrorMessage ng-messages=signupForm.homeAddress.$error class=error-msg-edit><p ng-message=required class=error-msg>Home Address is required</p></div></div><div class=each-row><input type=button class=input-buttons name=syncData value="SYNC DATA" ng-click=syncUserLocationData()></div></div></form></div></div>'),a.put("components/modal/modal.html",'<!-- <div class="modal-header">\n  <button ng-if="modal.dismissable" type="button" ng-click="$dismiss()" class="close">&times;</button>\n  <h4 ng-if="modal.title" ng-bind="modal.title" class="modal-title"></h4>\n</div>\n<div class="modal-body">\n  <p ng-if="modal.text" ng-bind="modal.text"></p>\n  <div ng-if="modal.html" ng-bind-html="modal.html"></div>\n</div>\n<div class="modal-footer">\n  <button ng-repeat="button in modal.buttons" ng-class="button.classes" ng-click="button.click($event)" ng-bind="button.text" class="btn"></button>\n</div> --><div class=modal-header><!--    <h3 class="modal-title">I\'m a modal!</h3> --></div><div class=modal-body><p>Please make sure that you click this icon at exact home location, otherwise suggestions will be inaccurate.</p></div><div class=modal-footer><button class="btn btn-primary" type=button ng-click=homeAddressModalOk()>OK</button> <button class="btn btn-warning" type=button ng-click=homeAddressModalCancel()>Cancel</button></div>'),a.put("components/navbar/navbar.html",'<div class="navbar navbar-default navbar-static-top" ng-controller=NavbarCtrl><div class=container><div class=navbar-header><button class=navbar-toggle type=button ng-click="isCollapsed = !isCollapsed"><span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button> <a href="/" class=navbar-brand>cb</a></div><div collapse=isCollapsed class="navbar-collapse collapse" id=navbar-main><ul class="nav navbar-nav"><li ng-repeat="item in menu" ng-class="{active: isActive(item.link)}"><a ng-href={{item.link}}>{{item.title}}</a></li><li ng-show=isAdmin() ng-class="{active: isActive(\'/admin\')}"><a href=/admin>Admin</a></li></ul><ul class="nav navbar-nav navbar-right"><li ng-hide=isLoggedIn() ng-class="{active: isActive(\'/signup\')}"><a ui-sref=signup.stepOne>Sign up</a></li><li ng-hide=isLoggedIn() ng-class="{active: isActive(\'/login\')}"><a href=/login>Login</a></li><li ng-show=isLoggedIn()><p class=navbar-text>Hello {{ getCurrentUser().name }}</p></li><li ng-show=isLoggedIn() ng-class="{active: isActive(\'/settings\')}"><a href=/settings><span class="glyphicon glyphicon-cog"></span></a></li><li ng-show=isLoggedIn() ng-class="{active: isActive(\'/logout\')}"><a href="" ng-click=logout()>Logout</a></li></ul></div></div></div>')}]);